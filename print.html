<!DOCTYPE HTML>
<html lang="en" class="sidebar-visible no-js light">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>Anki Betas</title>
        <meta name="robots" content="noindex" />


        <!-- Custom HTML head -->
        
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff" />

        <link rel="icon" href="favicon.svg">
        <link rel="shortcut icon" href="favicon.png">
        <link rel="stylesheet" href="css/variables.css">
        <link rel="stylesheet" href="css/general.css">
        <link rel="stylesheet" href="css/chrome.css">
        <link rel="stylesheet" href="css/print.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="fonts/fonts.css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="highlight.css">
        <link rel="stylesheet" href="tomorrow-night.css">
        <link rel="stylesheet" href="ayu-highlight.css">

        <!-- Custom theme stylesheets -->

    </head>
    <body>
        <!-- Provide site root to javascript -->
        <script type="text/javascript">
            var path_to_root = "";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "light";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script type="text/javascript">
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script type="text/javascript">
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('no-js')
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add('js');
        </script>

        <!-- Hide / unhide sidebar before it is displayed -->
        <script type="text/javascript">
            var html = document.querySelector('html');
            var sidebar = 'hidden';
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            }
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item expanded "><a href="intro.html">Intro & Downloads</a></li><li class="chapter-item expanded "><a href="2021-scheduler.html">2021 Scheduler</a></li><li class="chapter-item expanded "><a href="anki2.1.61.html">Changes in 2.1.61</a></li><li class="chapter-item expanded "><a href="anki2.1.57.html">Changes in 2.1.57</a></li><li class="chapter-item expanded "><a href="anki2.1.56.html">Changes in 2.1.56</a></li><li class="chapter-item expanded "><a href="anki2.1.55.html">Changes in 2.1.55</a></li><li class="chapter-item expanded "><a href="anki2.1.54.html">Changes in 2.1.54</a></li><li class="chapter-item expanded "><a href="anki2.1.53.html">Changes in 2.1.53</a></li><li class="chapter-item expanded "><a href="anki2.1.52.html">Changes in 2.1.52</a></li><li class="chapter-item expanded "><a href="anki2.1.51.html">Changes in 2.1.51</a></li><li class="chapter-item expanded "><a href="anki2.1.50.html">Changes in 2.1.50</a></li><li class="chapter-item expanded "><a href="anki2.1.48.html">Changes in 2.1.48</a></li><li class="chapter-item expanded "><a href="anki2.1.47.html">Changes in 2.1.47</a></li><li class="chapter-item expanded "><a href="anki2.1.45.html">Changes in 2.1.45</a></li><li class="chapter-item expanded "><a href="anki2.1.44.html">Changes in 2.1.44</a></li><li class="chapter-item expanded "><a href="anki2.1.43.html">Changes in 2.1.43</a></li><li class="chapter-item expanded "><a href="anki2.1.41.html">Changes in 2.1.41</a></li><li class="chapter-item expanded "><a href="older.html">Older</a></li></ol>
            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle"></div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky bordered">
                    <div class="left-buttons">
                        <button id="sidebar-toggle" class="icon-button" type="button" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </button>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light (default)</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title">Anki Betas</h1>

                    <div class="right-buttons">
                        <a href="print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>
                        <a href="https://github.com/ankitects/anki-betas/" title="Git repository" aria-label="Git repository">
                            <i id="git-repository-button" class="fa fa-github"></i>
                        </a>

                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script type="text/javascript">
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1 id="intro--downloads"><a class="header" href="#intro--downloads">Intro &amp; Downloads</a></h1>
<h2 id="downgrading"><a class="header" href="#downgrading">Downgrading</a></h2>
<p>Beta versions may sometimes change your collection in a way that is not
compatible with older Anki versions. If you wish to switch back to an older
version, please go to the <code>File&gt;Switch Profile</code> menu item, and click on
<code>Downgrade &amp; Quit</code> in the current version first.</p>
<h2 id="problems"><a class="header" href="#problems">Problems</a></h2>
<p>If you run into any issues, please let us know on the
<a href="https://forums.ankiweb.net/c/beta-testing/">beta testing section</a> of the user
forums.</p>
<h2 id="packaged-builds"><a class="header" href="#packaged-builds">Packaged Builds</a></h2>
<p>You can get the
<a href="https://apps.ankiweb.net/downloads/beta/?C=N&amp;O=D">latest packaged beta</a> from
AnkiWeb.</p>
<h2 id="via-pypipip"><a class="header" href="#via-pypipip">Via PyPI/pip</a></h2>
<p>If you have a local Python 3.9 installation, you can also install beta builds
directly with pip.</p>
<p>Anki will be installed in a local Python folder called 'pyenv'.</p>
<details>
<summary>Mac (both Intel/Apple), and Linux (x86_64)</summary>
<pre><code>$ python3.9 -m venv pyenv
$ pyenv/bin/pip install --upgrade pip
$ pyenv/bin/pip install --upgrade --pre 'aqt[qt6]'
$ pyenv/bin/anki
</code></pre>
<ul>
<li>Repeat the last step if you wish to start the same Anki version again.</li>
<li>Repeat the last two steps to update to the latest beta and start it.</li>
</ul>
</details>
<details>
<summary>Linux (ARM)</summary>
<p>As there are no PyQt packages on PyPI for Linux/ARM, you will need to have your
distro's PyQt5 packages already installed. Eg on Debian 11:</p>
<pre><code>$ sudo apt install python3-pyqt5.{qtwebengine,qtmultimedia}
</code></pre>
<p>Or on Fedora:</p>
<pre><code>$ sudo dnf install python3-qt5-webengine
</code></pre>
<p>Then run the following:</p>
<pre><code>$ python3.9 -m venv --system-site-packages pyenv
$ pyenv/bin/pip install --upgrade pip
$ pyenv/bin/pip install --upgrade --pre aqt
$ pyenv/bin/anki
</code></pre>
<ul>
<li>Repeat the last step if you wish to start the same Anki version again.</li>
<li>Repeat the last two steps to update to the latest beta and start it.</li>
</ul>
</details>
<details>
<summary>Windows</summary>
<pre><code>c:\&gt; python -m venv \pyenv
c:\&gt; pyenv\scripts\pip install --upgrade pip
c:\&gt; pyenv\scripts\pip install --upgrade --pre aqt[qt6]
c:\&gt; pyenv\scripts\anki
</code></pre>
<p>Repeat the last step if you wish to start the same Anki version again. Repeat
the last two steps to update to the latest beta and start it.</p>
</details>
<div style="break-before: page; page-break-before: always;"></div><h1 id="2021-scheduler"><a class="header" href="#2021-scheduler">2021 Scheduler</a></h1>
<p>Please see the <a href="https://faqs.ankiweb.net/the-2021-scheduler.html">FAQ page</a>.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="changes-in-2161"><a class="header" href="#changes-in-2161">Changes in 2.1.61</a></h1>
<h2 id="beta-1"><a class="header" href="#beta-1">Beta 1</a></h2>
<p>Build 5ad29c37 / 2023-03-11.</p>
<p>Improvements to the V3 scheduler:</p>
<ul>
<li>Added a global option to stop the review limit from limiting new cards (thanks
to Rumo).</li>
<li>You can now enable review burying without new burying again (thanks to Rumo).
There are some caveats - please see the bury tooltips in the deck options.</li>
<li>Ensure good is at least previous+1 even if low hard factor set.</li>
</ul>
<p>Other improvements:</p>
<ul>
<li>The tag area in the editor is now shown with a dropdown instead of a splitter
(thanks to Matthias).</li>
<li>Add a button in the preferences to reset window sizes (thanks to Abdo).</li>
<li>Passing an invalid profile name on the commandline will now show profile
picker instead of an error.</li>
<li>You can shift-click on a deck to select it as the current deck (thanks to
Tobias).</li>
</ul>
<p>Fixes:</p>
<ul>
<li>Fix silent file save failures and bad default save path in Flatpak (thanks to
Jack).</li>
<li>Fix HTML editor sometimes not properly sized when opening editor (thanks to
Hikaru).</li>
<li>Fix error showing if user clicks in sidebar before it's rendered.</li>
<li>Fix backup creation for collections &gt; 1 GiB (thanks to RumovZ).</li>
<li>Fix black on grey minimalist buttons in Qt5 (thanks to Daniel).</li>
<li>Fix black on grey deck options on Qt5 (thanks to Daniel).</li>
<li>Export static references from sound tags (thanks to RumovZ).</li>
<li>Fix packaged audio tools path on Windows (thanks to Abdo).</li>
<li>Fix a case where 'reduce motion' and 'minimalist mode' were switched (thanks
to Daniel).</li>
<li>Fix panic with invalid sync server URL with port (thanks to Daniel).</li>
<li>Fix double scrollbars in deck options (thanks to Fabricio).</li>
<li>Fix images with non-Latin text and commas failing to display.</li>
<li>Fix editor text possibly being transfer to different notetypes (thanks to
Fabricio).</li>
<li>Improve hover appearance of buttons (thanks to Matthias).</li>
<li>Fix inability to activate search in graphs screen on Android (thanks to
yellowjello).</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="changes-in-2157"><a class="header" href="#changes-in-2157">Changes in 2.1.57</a></h1>
<h2 id="release-candidate-1"><a class="header" href="#release-candidate-1">Release Candidate 1</a></h2>
<p>Build 14189a91 / 2023-01-26.</p>
<ul>
<li>Fix non-Latin text wrapping in deck options dropdown (thanks to Fabricio).</li>
<li>Fix outer whitespace not being trimmed in type answer.</li>
<li>Fix style label being shown in preferences on Windows (thanks to Matthias).</li>
<li>Fix the future due graph counting learning cards on the wrong day.</li>
<li>HTML is now escaped in the deck list.</li>
<li>Improve styling of boxes in template editor (thanks to Matthias).</li>
<li>Fix 'View Files' not working with a relative base folder (thanks to Abdo).</li>
</ul>
<p>Dev related:</p>
<ul>
<li>Make it easier to override node/protoc binaries during a build (thanks to
Mani)</li>
</ul>
<h2 id="beta-1-1"><a class="header" href="#beta-1-1">Beta 1</a></h2>
<p>Build 5cdfa7a6 / 2023-01-18.</p>
<p>More UI improvements/fixes thanks to Matthias, including:</p>
<ul>
<li>The top toolbar area can now take on the color/background of the main window.</li>
<li>The top toolbar appears more subtle during review.</li>
<li>A new option in the preferences to automatically hide the top and bottom bar
during review.</li>
<li>A new option in the preferences to enable a &quot;minimalist&quot; mode that makes the
UI more compact/less fancy.</li>
<li>A new option in the preferences to switch between native styling and the Anki
theme (on Mac/Linux).</li>
<li>The preferences screen has been redesigned to be easier to navigate.</li>
</ul>
<p>Syncing has also been updated:</p>
<ul>
<li>Tweaks to the sync protocol that should be transparent when syncing with
AnkiWeb, but that will break syncing with third-party servers that haven't
been updated yet.</li>
<li>The sync server bundled with Anki has been updated, and now supports syncing
media as well. More information is available on
<a href="https://docs.ankiweb.net/sync-server.html">https://docs.ankiweb.net/sync-server.html</a>.</li>
</ul>
<p>Other changes:</p>
<ul>
<li>Switch to a different library for handling type-in-the-answer comparisons,
which should give more reliable results, and not crash with certain inputs
(thanks to Rumo).</li>
<li>Fix <code>introduced:x</code> not working correctly when negated (thanks to Rumo).</li>
<li>Fix ctrl+enter not working when importing screen first opened.</li>
<li>Fix image dimensions not being correctly constrained (thanks to Hikaru).</li>
<li>Fix incorrect total/average in added graph.</li>
<li>Fix newlines not appearing when importing a csv file with HTML disabled.</li>
<li>Fix quotes preventing field descriptions from showing.</li>
<li>Fix spaces not handled properly when entering text around MathJax (thanks to
Hikaru).</li>
<li>Fix toolbar add-on breakages and introduce toolbar tray layout &amp; API (thanks
to Aristotelis).</li>
<li>Fix type-in-the-answer not supported nested cloze deletions.</li>
<li>Increase delay when adjusting clipboard, which may improve compatibility on
some systems.</li>
<li>Update Windows/Linux builds to Qt 6.4.2.</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="changes-in-2156"><a class="header" href="#changes-in-2156">Changes in 2.1.56</a></h1>
<h2 id="release-candidate-1-1"><a class="header" href="#release-candidate-1-1">Release Candidate 1</a></h2>
<p>Build bc697597 / 2023-01-04.</p>
<p>New features/improvements:</p>
<ul>
<li>Cloze deletions can now be nested inside other cloze deletions (thanks to
TRIAEIOU).</li>
<li>Inactive cloze deletions can now be styled with .cloze-inactive (thanks to
TRIAEIOU).</li>
<li>Graphs in large collections now load approximately twice as quickly.</li>
<li>Add-on config help is now shown in a webview (thanks to Abdo).</li>
</ul>
<p>Fixes:</p>
<ul>
<li>Fix error popping up 12 hours after starting Anki on macOS and some Linux
machines.</li>
<li>Fix unreadable text when searching in sidebar.</li>
<li>Fix fcitx not working on Linux Qt6 package.</li>
<li>Fix old graphs failing to appear.</li>
<li>Fix dark mode display issues on macOS/Qt5.</li>
<li>Fix images not being constrained to window width when image shrinking
disabled.</li>
<li>Fix incorrect macOS minimum version in Qt5 build.</li>
<li>Fix lack of highlight for marked cards in day mode.</li>
<li>Fix pop-up menu in editor sometimes flashing (thanks to Hikaru).</li>
<li>Fix some issues entering text via IME around MathJax area (thanks to Hikaru).</li>
<li>Fix some regressions with the graphs when saving to a PDF.</li>
<li>Fix truncated text on some buttons.</li>
<li>Fix two mpv issues on Windows (thanks to Kelciour).</li>
<li>Tweak focus highlight of some widgets (thanks to Abdo).</li>
</ul>
<p>For devs:</p>
<ul>
<li>Improve web building/reloading experience (thanks to Aristotelis).</li>
<li>Fix an issue building the code with the latest git version.</li>
<li>Fix aqt type completion not working with PyPI wheel.</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="changes-in-2155"><a class="header" href="#changes-in-2155">Changes in 2.1.55</a></h1>
<h2 id="release-candidate-2"><a class="header" href="#release-candidate-2">Release Candidate 2</a></h2>
<p>Build e0c4ba4b / 2022-12-14.</p>
<ul>
<li>Better hover feedback on top menu (thanks to Matthias).</li>
<li>Fix cursor moving to field start when closing MathJax editor.</li>
<li>Fix disabled state not being conveyed in dropdowns (thanks to Matthias).</li>
<li>Fix inability to choose black in editor.</li>
<li>Fix MathJax popup not appearing when activated via mouse (thanks to Hikaru).</li>
<li>Fix RTL issues on first run.</li>
<li>Hide description button for filtered decks (thanks to Matthias).</li>
<li>Improve dropdown arrow appearance (thanks to Matthias).</li>
<li>Revert to Qt 6.3 on macOS, which fixes a flickering issue.</li>
</ul>
<h2 id="release-candidate-1-2"><a class="header" href="#release-candidate-1-2">Release Candidate 1</a></h2>
<p>Build f38c4e2f / 2022-12-09.</p>
<ul>
<li>Close MathJax editor when Esc is pressed (thanks to Abdo).</li>
<li>Field collapse state and HTML editor no longer resets when card added (thanks
to Matthias).</li>
<li>Fixed 'change notetype' starting with the wrong notetype selected.</li>
<li>Fixed MathJax editor not hiding as you select a different note.</li>
<li>Fixed more RTL issues (thanks to Matthias).</li>
<li>Fixed some dialogs failing to appear on new installs.</li>
<li>Fixed stuck animation when MathJax editor near edge of window (thanks to
Matthias).</li>
<li>Fixed text color button not applying colors in some cases (thanks to Henrik).</li>
<li>Improve dropdown appearance and tweak change notetypes screen (thanks to
Matthias).</li>
<li>Increased initial add-on dialog size.</li>
<li>Make up/down buttons in deck options more subtle (thanks to Matthias).</li>
<li>Pages like deck options now have a larger default size.</li>
<li>Possible fix for slow TTS on Windows.</li>
</ul>
<p>Developer-focused:</p>
<ul>
<li>Fixed a 'git failed' message that could occur when building.</li>
<li>Fixes to work with the latest timing library (thanks to Rumo).</li>
<li>Make it easier to replace hooks (thanks to zjosua).</li>
</ul>
<h2 id="beta-7"><a class="header" href="#beta-7">Beta 7</a></h2>
<p>Build fad1ff74 / 2022-12-04.</p>
<ul>
<li>Fixed 'remove formatting' not handling formatting in the middle of a
selection.</li>
<li>Fixed (or at least reduced) crashes on exit.</li>
<li>Fixed alternate table row color on macOS dark mode.</li>
<li>Fixed audio not playing on macOS.</li>
<li>Fixed glitchy animation of floating elements (thanks to Matthias).</li>
<li>Fixed incorrect field mapping in the change notetype screen.</li>
<li>Fixed interface being reversed on first run with RTL language.</li>
<li>Fixed some regressions in the tag editor. If you notice this causes empty tags
to be added again, please let us know.</li>
<li>Fixed the current text input not being saved when clicking on the Save button
without leaving the field first.</li>
<li>Fixed TTS throwing errors on Windows.</li>
<li>Give containers a brighter color than canvas (thanks to Matthias).</li>
<li>Improve button color/hover gradients (thanks to Matthias).</li>
<li>Improve the appearance of dropdowns, and fix layout in CSV import screen
(thanks to Matthias).</li>
<li>MathJax preview is no longer subject to image shrinking.</li>
<li>Reduce flicker when showing congrats screen.</li>
<li>Slightly reduce padding in deck list (thanks to Matthias).</li>
<li>The Hard button on the first step is now capped to a maximum of 1 day greater
than Again (thanks to Rumo).</li>
<li>The zoom level is no longer reset when moving between screens.</li>
<li>Tweak scrollbar colors for better visibility in dark theme (thanks to
Matthias).</li>
<li>Tweak the appearance/behaviour of the increment/decrement buttons in deck
options.</li>
<li>Use third grid column in graphs layout on wide screens (thanks to Matthias).</li>
<li>Added an option to force Windows/Linux-style appearance on Macs (thanks to
Matthias). Enable with <code>mw.pm.set_force_custom_styles(True)</code> in the debug
console, then restart.</li>
</ul>
<h2 id="beta-6"><a class="header" href="#beta-6">Beta 6</a></h2>
<p>Build ca116699 / 2022-11-28.</p>
<ul>
<li>Fixed a number of issues with the tag editor (thanks to Matthias).</li>
<li>Fixed shortcuts to select all/delete tags not working (thanks to Hikaru).</li>
<li>Fixed non-native scrollbar and rubber-band scrolling in some screens on macOS
(thanks to Matthias).</li>
<li>Reduce size of dropdown text (thanks to Matthias).</li>
<li>Tweak default styling to avoid overriding some shared deck styling (thanks to
Matthias).</li>
<li>Tweak button styling to improve restyle add-on behavior (thanks to
BlueGreenMagick).</li>
</ul>
<p>For developers:</p>
<ul>
<li>The build system has been switched from Bazel to Ninja.</li>
<li>Wheels are available on PyPI again.</li>
<li>Thanks to Stefan for a bunch of spelling/typo fixes to the code.</li>
</ul>
<h2 id="beta-5"><a class="header" href="#beta-5">Beta 5</a></h2>
<p>Build b88a7394 / 2022-11-23.</p>
<p>This beta is built with the new build system in PR #2022. The packages should
behave as before, but if you notice any issues, please let us know. The wheels
for this beta are missing from PyPi.</p>
<p>More UI tweaks thanks to Matthias:</p>
<ul>
<li>Fixed the editor freezing when expanding/collapsing images.</li>
<li>Fixed the double border when 'reduce motion' is on.</li>
<li>Don't show/hide the field icons on hover when 'reduce motion' is on.</li>
<li>Move the options button in the editor to the left.</li>
<li>Fixed some issues with field descriptions not updating.</li>
<li>Fixed bad answer button display when answer times disabled.</li>
<li>UI size tweaks.</li>
</ul>
<p>Other fixes:</p>
<ul>
<li>Fixed inverted ctrl+right/left handling in RTL fields again (thanks to Abdo).</li>
<li>Add tooltip to More button (thanks to Hikaru).</li>
<li>Fixed incorrect location of tag completion pop-up (thanks to Hikaru).</li>
<li>Fixed a regression in some add-ons in the browser (thanks to Abdo).</li>
<li>Fixed an issue with the night theme class (thanks to BlueGreenMagick).</li>
<li>Improve handling of invalid UTF-8 in DB check.</li>
<li>Suppress the &quot;Unknown error&quot; message that the web toolkit can output on
Windows.</li>
<li>Improve an add-on hook (thanks to zjosua).</li>
</ul>
<h2 id="beta-4"><a class="header" href="#beta-4">Beta 4</a></h2>
<p>Build e3c3405f / 2022-11-05.</p>
<p>Lots of UI fixes thanks to Matthias:</p>
<ul>
<li>Add back thick field focus border.</li>
<li>Add margin to buttons in reviewer.</li>
<li>Duplicate outline in editor no longer gets hidden when field not active.</li>
<li>Fix a lack of styling in the review area.</li>
<li>Fix colors on things like flags changing unintentionally.</li>
<li>Fix dropdowns wrapping to the top.</li>
<li>Fix fields not showing with reduce motion active.</li>
<li>Fix HTML editor not showing content initially.</li>
<li>Fix issues with the reviewer answer button area.</li>
<li>Fix short deck options' help text appearing next to the title.</li>
<li>Fix some issues with displaying on the Qt5 build.</li>
<li>Fix various RTL issues.</li>
<li>Flatten buttons to match macOS style (thanks also to Hikaru).</li>
<li>Increasingly increment/decrement SpinBox value on long press.</li>
<li>Prevent deck options switches from toggling on label click.</li>
<li>Set same font size for all platforms and make editor UI a bit smaller.</li>
<li>Tweaks to browser column headers.</li>
<li>Use circle icon for radio box.</li>
<li>Use custom scrollbar in stats screen, use grid layout, and tweak styling.</li>
</ul>
<p>Other fixes/improvements:</p>
<ul>
<li>Fixed Apple Silicon macOS build failing to start.</li>
<li>Double-click on browse panes to split evenly (thanks to Aristotelis).</li>
<li>Fix browser sidebars appearing in wrong order in RTL mode (thanks to Abdo).</li>
<li>Fix headers in importing screen overlapping section content.</li>
<li>Fix MathJax pop-up appearing at bottom of screen.</li>
<li>Fix wrong deck preset being selected by default in some cases.</li>
<li>Improve the appearance of hte note/card switch toggle (thanks to Aristotelis).</li>
<li>Preload images on the front side of a card to reduce pop-in (thanks to
Kelciour).</li>
<li>Remove untranslated 'see old deck options for add-ons' notice.</li>
</ul>
<h2 id="beta-3"><a class="header" href="#beta-3">Beta 3</a></h2>
<p>Build e5c4ccf0 / 2022-10-29.</p>
<p>More UI work, thanks to Matthias. The styling is not set in stone, so we'd
appreciate you letting us know what you like better now, and anything you don't
like.</p>
<ul>
<li>Reworked the appearance of the main window.</li>
<li>Changes to the theming of things like buttons, particularly on Windows/Linux.</li>
<li>Improvements to the deck options screen.</li>
<li>Fixed field names appearing on top of field content, by finishing the work
Henrik had previously done.</li>
<li>Improved appearance of add-on buttons in editor.</li>
<li>The tag area separator in the editor now snaps into place.</li>
<li>Improved the tag completion pop-up.</li>
<li>Lay some of the groundwork for custom color themes in the future.</li>
</ul>
<p>Known issues in this beta:</p>
<ul>
<li>The 'reduce motion' option in the preferences breaks the editing window.</li>
</ul>
<p>Improvements/Fixes:</p>
<ul>
<li>Fixed indent/outdent shortcuts not working properly.</li>
<li>Fixed maximized browser window not being restored (thanks to Hikaru).</li>
<li>Fixed some issues with dragging tags/decks onto other tags/decks (thanks to
Abdo).</li>
<li>Improve Anki's error handling, including some more informative error messages
(thanks to Rumo).</li>
<li>Preserve background color when copy+pasting between fields.</li>
</ul>
<h2 id="beta-2"><a class="header" href="#beta-2">Beta 2</a></h2>
<p>Build e14f87ba / 2022-10-12.</p>
<p>More UI improvements thanks to Matthias:</p>
<ul>
<li>Improve visibility/appearance of duplicate warning.</li>
<li>Fix selected tag not being highlighted.</li>
<li>HTML tag auto-close can now be toggled via settings button in editor.</li>
<li>Move MathJax preview toggle to settings button.</li>
<li>When MathJax preview disabled, newly added equations no longer pop-up the
preview.</li>
<li>Cards/notes selector now uses full label.</li>
<li>Improve layout for RTL languages.</li>
<li>Add left/right padding to buttons.</li>
<li>Ensure dropdowns are shown within window margins.</li>
<li>Fix vertical misalignment of bottom toolbar buttons.</li>
<li>Fix misaligned settings button.</li>
<li>Fix unreadable tooltips in dark mode on Windows.</li>
<li>Fix daily limits in deck options incorrectly starting from 1.</li>
<li>Tweak border color in dark mode.</li>
<li>Tweak appearance of menus on Windows/Linux.</li>
</ul>
<p>Other improvements/fixes:</p>
<ul>
<li>Update Qt to 6.4, which performs better under Wayland. Please let us know of
any improvements/regressions it brings.</li>
<li>Fix MathJax editor not being hidden when note added or switched.</li>
<li>Fix scrolling with keys/keyboard event listeners not working on answer side
(thanks to Hikaru).</li>
<li>Fix styling of pop-over arrows (thanks to BlueGreekMagick).</li>
<li>Make it easier to read add-on errors (thanks to Abdo).</li>
<li>Fix type answer warning making text bold.</li>
<li>Fix font size not being removed when pasting between fields.</li>
</ul>
<h2 id="beta-1-2"><a class="header" href="#beta-1-2">Beta 1</a></h2>
<p>Build f72570c or 6944210 / 2022-09-28.</p>
<p>Various UI changes, thanks to Matthias:</p>
<ul>
<li>The tags area can now be collapsed/expanded (thanks also to Henrik).</li>
<li>The editor in the browse screen can now be shown on the right.</li>
<li>Redesigned editor field appearance.</li>
<li>Fields can now be collapsed/expanded. The animation can be disabled in the
preferences.</li>
<li>Added an option for fields to show the HTML editor by default.</li>
<li>Tweaks to the light and dark themes.</li>
<li>Tweaks to widget styling on Windows/Linux.</li>
<li>Ensure long words wrap in the editor.</li>
<li>Fix not being able to scroll when hovering over HTML editor.</li>
</ul>
<p>V3 scheduler improvements, thanks to Rumo:</p>
<ul>
<li>Custom scheduling now supports per-card data, enabling things like
<a href="https://forums.ankiweb.net/t/how-did-i-publish-a-paper-in-acmkdd-as-an-undergraduate-a-fantastic-research-experience-on-spaced-repetition-algorithm-open-source-the-code-and-dataset/23387">FSRS</a>.</li>
<li>Decks can now specify daily limits independently of the deck preset. You can
either specify a permanent override, or one that will reset when the next day
comes around.</li>
</ul>
<p>Import/export improvements, thanks to Rumo:</p>
<ul>
<li>The new import/export code is now the default.</li>
<li>When scheduling is included, filtered decks are no longer converted to normal
decks.</li>
<li>When a deck is specified in a CSV import, it's now created if missing.</li>
<li>Various other fixes.</li>
</ul>
<p>Other improvements:</p>
<ul>
<li>You can now control whether images are automatically shrunk or not in the
editor.</li>
<li>Improvements to the MathJax editor (thanks to Henrik).</li>
<li>The MathJax preview can now be turned off.</li>
<li>You no longer need to add or remove a file to the media folder for file
changes to be picked up.</li>
<li>The way your typed text is compared with the correct answer has been tweaked.</li>
<li>Anki now opens to the previously-active profile (thanks to Sam).</li>
<li>Remember previous choices in reposition dialog (thanks to Sam).</li>
<li>Card info now refreshes as a card is reviewed (thanks to Rumo).</li>
<li>Make dvipng use transparent background by default (thanks to gnnoh).</li>
<li><code>introduced:x</code> now ignores manual reschedulings (thanks to Rumo).</li>
<li>Updated to Qt 6.3.2</li>
<li>The maximum answer time can now be set below 30 seconds.</li>
</ul>
<p>Fixes:</p>
<ul>
<li>You should no longer see strange behaviour when changing learning steps while
cards are in learning (thanks to Rumo).</li>
<li>Cmd+Shift+C cloze shortcut should be more responsive on macOS now.</li>
<li>Fix sidebar appearing as small window in some cases (thanks to Hikaru).</li>
<li>Add screen can be closed with Cmd+W on macOS (thanks to Sam).</li>
<li>Fix {{CardFlags}} not working with flags 5-7</li>
<li>Fix an error showing when making network connections on macOS after leaving
Anki open for a few days.</li>
<li>Fix certain installed TTS voices on Windows causing errors.</li>
<li>Fix daily counts being included in apkg import.</li>
<li>Fix fields sticking in add screen when they shouldn't (thanks to Henrik).</li>
<li>Fix flicker when remapping imported notetype field (thanks to Rumo).</li>
<li>Fix incorrect header text alignment in Qt 6.3.1 (thanks to Rumo).</li>
<li>Fix non-admin users having trouble with Anki on macOS.</li>
<li>Fix reviewer shortcuts being inaccessible due to IME</li>
<li>Fix scheduler change not reflected after normal sync.</li>
<li>Fix slow field pin/unpin with large notetype (thanks to Rumo).</li>
<li>Fix the UI getting stuck at startup when multiple pop-ups appear (thanks to
Sam).</li>
<li>Keep content of unmapped fields when importing CSV (thanks to Rumo).</li>
<li>Possible fix for error when copying text in editor</li>
<li>Preserve background-color when pasting external content in light mode.</li>
<li>The HTML editor no longer automatically closes tags.</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="changes-in-2154"><a class="header" href="#changes-in-2154">Changes in 2.1.54</a></h1>
<h2 id="release-candidate-3"><a class="header" href="#release-candidate-3">Release Candidate 3</a></h2>
<p>Build a8e34ce4 / 2022-06-22.</p>
<ul>
<li>Fixed fields sticking in add screen when they shouldn't (thanks to Henrik).</li>
<li>Fixed incorrect header text alignment in Qt 6.3.1 (thanks to Rumo).</li>
<li>Automatically map tags field in new import screen (thanks to Rumo).</li>
</ul>
<h2 id="release-candidate-2-1"><a class="header" href="#release-candidate-2-1">Release Candidate 2</a></h2>
<p>Build 30c6bd58 / 2022-06-21.</p>
<ul>
<li>Fixed broken column headers in Browse screen. You'll need to reconfigure your
columns after updating.</li>
<li>Fixed undo history being cleared and error showing when double-tapping delete
in Browse screen.</li>
<li>Fixed field descriptions appearing underneath field text (thanks to Hikaru).</li>
<li>Changing field delimiter in new import screen rebuilds field map.</li>
<li>Editor API improvements (thanks to Henrik).</li>
<li>Add ellipsis to Forget action.</li>
</ul>
<h2 id="release-candidate-1-3"><a class="header" href="#release-candidate-1-3">Release Candidate 1</a></h2>
<p>Build 595c9273 / 2022-06-18.</p>
<p>A new CSV importer &amp; exporter, thanks to Rumo:</p>
<ul>
<li>Shows a preview based on the selected field separator.</li>
<li>Column mapping includes field text for reference.</li>
<li>Multiple decks and notetypes can now be imported/exported at once, as columns
can be mapped to deck or notetype name.</li>
<li>Supports exporting and importing a unique identifier for a note, to use
instead of a matching first field. This removes the need for the 'add note id'
add-on.</li>
<li>Extends the header syntax so that files can specify metadata such as the
desired field separator, and the mapping of fields.</li>
<li>The new functionality is not enabled by default, and can be enabled with a
checkbox in the preferences screen. This also enables the new apkg
import/export code introduced in 2.1.52. If you use the Special Fields add-on,
you will need to disable this option in order to use the add-on.</li>
</ul>
<p>Update to Qt 6.3.1:</p>
<ul>
<li>Fixes complex-language input (eg Japanese, Hindi, etc) on macOS being flaky.</li>
<li>Fixes unwanted text when copying from the review screen on Windows.</li>
<li>Fixes a startup failure with certain Linux keyboard configurations.</li>
</ul>
<p>Other changes:</p>
<ul>
<li>Accept .zip extension when importing add-ons (thanks to Abdo).</li>
<li>Add support for getting light/dark mode status with latest freedesktop
standard (thanks to Bart).</li>
<li>Field descriptions in the editor are now shown inline, instead of in a tooltip
(thanks to Matthias).</li>
<li>Fixed a rounding issue when describing time intervals of a year or more.</li>
<li>Fixed an error that occurred after a one-way download fetched a collection
with a different scheduler version enabled.</li>
<li>Fixed desktop hanging when attempting to add a new notetype in KDE (kwin).</li>
<li>Fixed flag names not updating after sync until Anki restarted.</li>
<li>Fixed inability to enter underscore in tags area on some keyboard layouts
(thanks to Henrik).</li>
<li>Provide a way for the review screen to support drop events (thanks to Abdo).</li>
<li>Other minor fixes and improvements.</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="changes-in-2153"><a class="header" href="#changes-in-2153">Changes in 2.1.53</a></h1>
<h2 id="release-candidate-2-2"><a class="header" href="#release-candidate-2-2">Release Candidate 2</a></h2>
<p>Build 96bacf79 / 2022-05-26.</p>
<ul>
<li>Possible fix for crashes on some machines when closing windows.</li>
<li>Fix automatic backups popping up progress window when Anki minimized.</li>
<li>Fix cards not being generated after template edits.</li>
<li>Fix deck options top bar disappearing as you scroll down.</li>
<li>Fix duplicate Anki icons appearing in dock on macOS.</li>
<li>Fix duplicate first character in certain ibus configurations (thanks to
wisherhxl).</li>
<li>Fix some MathJax directives failing to render in editor.</li>
</ul>
<h2 id="release-candidate-1-4"><a class="header" href="#release-candidate-1-4">Release Candidate 1</a></h2>
<p>Build f6ecddef / 2022-05-20.</p>
<p>Editor changes:</p>
<ul>
<li>Rework image resizing (thanks to Henrik). Images expand to the editor width by
default now, and images that are resized for the editor will remain that way
if you switch fields, or navigate to a different note and back.</li>
<li>Existing height constraints on images are stripped when resizing (thanks to
BlueGreenMagick).</li>
<li>The MathJax editor now provides buttons/shortcuts to cloze-delete selected
text (thanks to Henrik).</li>
<li>MathJax preview now hides cloze markers.</li>
<li>Style tags are no longer stripped when editing (thanks to Henrik).</li>
<li><code>&lt;br&gt;</code> tags in MathJax are now handled correctly (thanks to Henrik).</li>
<li>MathJax in the review screen now supports mathtools, and available packages in
editor and review screen match (thanks to Henrik).</li>
<li>Move focus into HTML editor when hiding normal editor (thanks to Henrik).</li>
<li>Image tags now have the alt property preserved when pasting.</li>
</ul>
<p>Other changes:</p>
<ul>
<li>Fixed future due graph incorrectly including new cards.</li>
<li>Custom study reports counts of child decks separately in v3 scheduler.</li>
<li>Fixed initially-incorrect tooltip position in graphs (thanks to
BlueGreenMagick).</li>
<li>Fixed an error sometimes appearing in the browser when deleting notes (thanks
to Rumo).</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="changes-in-2152"><a class="header" href="#changes-in-2152">Changes in 2.1.52</a></h1>
<ul>
<li><a href="anki2.1.52.html#release-candidate-3">Release Candidate 3</a></li>
<li><a href="anki2.1.52.html#release-candidate-2">Release Candidate 2</a></li>
<li><a href="anki2.1.52.html#release-candidate-1">Release Candidate 1</a></li>
</ul>
<h2 id="release-candidate-3-1"><a class="header" href="#release-candidate-3-1">Release Candidate 3</a></h2>
<p>Build ab1c2395 / 2022-05-10.</p>
<p>The Qt 6.3.1 release we were waiting on has been delayed by a month, so 2.1.52
is now expected to release as stable within the next week, if no important
issues come up.</p>
<p>Editor improvements:</p>
<ul>
<li>Ctrl/Cmd+A in tag editing area now selects all tags (thanks to
BlueGreenMagick).</li>
<li>Pressing tab on the last field now moves focus to tag area (thanks to Henrik).</li>
<li>Reduce size of editor buttons on Windows/Linux (thanks to Henrik).</li>
<li>Tags copied from the tag editor are no longer joined together when pasted into
the add tags/remove tags dialogs (thanks to Henrik).</li>
<li>Fixed <code>&amp;amp;</code> showing up when using <code>&amp;</code> in MathJax (thanks in part to Henrik).</li>
<li>Fixed various issues with tag editing (thanks to BlueGreenMagick and Henrik).</li>
</ul>
<p>Other fixes:</p>
<ul>
<li>Fixed scrollbars showing in bottom area of review screen (thanks to Matthias).</li>
<li>Fixed v3 scheduler allowing one extra card when review limit reached (thanks
to Rumo).</li>
<li>Fixed Anki needing to close when invalid modification times encountered by the
browser on Windows.</li>
<li>Fixed new importer failing to import a subdeck export (thanks to Rumo).</li>
<li>Improve progress feedback when using the new importing and exporting code.</li>
<li>New import code supports .zip filenames, and runs on drag/drop + file
double-click cases as well.</li>
</ul>
<p>For developers:</p>
<ul>
<li>The <code>field_filter</code> hook can now check if it's running for the question or
answer side (thanks to Abdo).</li>
<li>Added a <code>av_player_will_play_tags</code> hook (thanks to Abdo).</li>
</ul>
<h2 id="release-candidate-2-3"><a class="header" href="#release-candidate-2-3">Release Candidate 2</a></h2>
<p>Build 63f05b2b / 2022-05-02.</p>
<p>Bugfixes/tweaks:</p>
<ul>
<li>The Qt5 Mac build now caps tag autocomplete matches to 10, as showing more is
extremely slow in the old toolkit version.</li>
<li>Fix custom study applying the previously-input limit, instead of the current
one.</li>
<li>Fix an error when previewing cards and selecting multiple cards (thanks to
Rumo).</li>
<li>Removed the highlight on the Show Answer and Good buttons.</li>
<li>Make it easier to search in fields programmatically (thanks to Abdo).</li>
</ul>
<p>This build also includes a new implementation of apkg importing and exporting,
thanks to Rumo. Some advantages:</p>
<ul>
<li>Undo/redo is now supported.</li>
<li>Faster imports (especially for decks with a lot of note content).</li>
<li>Support for older clients can be optionally disabled, which results in smaller
apkg files, and faster imports.</li>
<li>Flags are removed when scheduling is excluded.</li>
</ul>
<p>The new functionality is hidden behind a feature flag, and <strong>not active by
default</strong>. You can try it out by using <code>mw.pm.set_new_import_export(True)</code> in
the <a href="https://docs.ankiweb.net/misc.html#debug-console">debug console</a>. To revert
to the old behaviour, replace True with False.</p>
<p>Things to note:</p>
<ul>
<li>This is new code that has received limited testing so far, so please use
<code>File&gt;Create Backup</code> before trying it out. Any testing/feedback you can
provide would be appreciated.</li>
<li>While active, it is not currently possible to export files other than
apkg/colpkg.</li>
<li>The Special Fields add-on will not work while this functionality is enabled.</li>
</ul>
<h2 id="release-candidate-1-5"><a class="header" href="#release-candidate-1-5">Release Candidate 1</a></h2>
<p>Build a989e508 / 2022-04-25.</p>
<ul>
<li>Update Qt to 6.3, which fixes slow loading of large images, and inertial
scrolling on macOS.</li>
<li>List text is now aligned to the left by default (thanks to Matthias).</li>
<li>Reset page zoom when moving between different screens.</li>
<li>Fixed backspace sometimes removing multiple images at once (thanks to Henrik).</li>
<li>Fixed colpkg imports not being cancellable (thanks to Rumo).</li>
<li>Fixed copying and pasting MathJax on Windows (Qt6).</li>
<li>Fixed current working directory changing on apkg export.</li>
<li>Fixed custom browser font not being honored (Qt6).</li>
<li>Fixed due graph showing wrong date for review cards in a filtered deck with
rescheduling disabled.</li>
<li>Fixed some formatting being lost when copying between fields on Windows (Qt6).</li>
<li>Fixed grey background in type answer text + dark mode (thanks to Matthias).</li>
<li>Fixed handling of <code>&lt;</code> and <code>&gt;</code> symbols in MathJax (thanks to Henrik).</li>
<li>Fixed intermittent editor loading failures when add-ons have injected a large
amount of code.</li>
<li>Fixed pasting of local files of unsupported types that contain spaces (thanks
to Abdo).</li>
<li>The Qt6 Linux build now defaults to X11/XWayland instead of Wayland due to
some <a href="https://github.com/ankitects/anki/issues/1767">remaining issues</a>; you
can force-enable Wayland with ANKI_WAYLAND=1.</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="changes-in-2151"><a class="header" href="#changes-in-2151">Changes in 2.1.51</a></h1>
<ul>
<li><a href="anki2.1.51.html#release-candidate-2">Release Candidate 2</a></li>
<li><a href="anki2.1.51.html#release-candidate-1">Release Candidate 1</a></li>
</ul>
<h2 id="release-candidate-2-4"><a class="header" href="#release-candidate-2-4">Release Candidate 2</a></h2>
<p>Build a7cb5e21 / 2022-04-19.</p>
<ul>
<li>Fixed compatibility with older macOS versions.</li>
<li>Fixed formatting being turned off when pressing shift (thanks to Henrik).</li>
<li>Remember original card position when using 'set due date' on a card (thanks to
Rumo).</li>
<li>Fixed compatibility with 'card info during review' and similar add-ons.</li>
<li>Fixed illegible calendar buttons in dark mode on Mac/Linux.</li>
<li>Fixed stats PDF being illegible when saving in dark mode after scrolling down
(thanks to Luka).</li>
<li>Use <code>&lt;b&gt;</code> and <code>&lt;i&gt;</code> formatting tags, instead of <code>&lt;strong&gt;</code> and <code>&lt;em&gt;</code>.</li>
<li>Fixed an issue with the search history when clicking on items in the sidebar
(thanks to Rumo).</li>
<li>Anki now closes the Browse screen before full sync or colpkg import/export, so
it doesn't show errors.</li>
</ul>
<h2 id="release-candidate-1-6"><a class="header" href="#release-candidate-1-6">Release Candidate 1</a></h2>
<p>Build 51a0641b / 2022-04-10.</p>
<ul>
<li>Reviews in the V3 scheduler can now optionally be sorted by relative
overdueness (thanks to Abdo).</li>
<li>Improve editor startup time, especially with many fields (thanks to Henrik).</li>
<li>Automatically re-enable disabled add-ons when user explicitly reinstalls them,
and improve conflict handling (thanks to Aristotelis).</li>
<li>Fixed an issue that was breaking some add-ons when running on Windows without
using anki-console.bat</li>
<li>Fixed card layout screen opening too wide if card template name was long
(thanks to Sam).</li>
<li>Fixed full sync not being triggered when changing sort field.</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="changes-in-2150"><a class="header" href="#changes-in-2150">Changes in 2.1.50</a></h1>
<ul>
<li><a href="anki2.1.50.html#release-candidate-4">Release Candidate 4</a></li>
<li><a href="anki2.1.50.html#release-candidate-3">Release Candidate 3</a></li>
<li><a href="anki2.1.50.html#release-candidate-2">Release Candidate 2</a></li>
<li><a href="anki2.1.50.html#release-candidate-1">Release Candidate 1</a></li>
<li><a href="anki2.1.50.html#beta-9">Beta 9</a></li>
<li><a href="anki2.1.50.html#beta-8">Beta 8</a></li>
<li><a href="anki2.1.50.html#beta-7">Beta 7</a></li>
<li><a href="anki2.1.50.html#beta-6">Beta 6</a></li>
<li><a href="anki2.1.50.html#beta-5">Beta 5</a></li>
<li><a href="anki2.1.50.html#beta-4">Beta 4</a></li>
<li><a href="anki2.1.50.html#beta-3">Beta 3</a></li>
<li><a href="anki2.1.50.html#beta-2">Beta 2</a></li>
<li><a href="anki2.1.50.html#beta-1">Beta 1</a></li>
</ul>
<h2 id="release-candidate-4"><a class="header" href="#release-candidate-4">Release Candidate 4</a></h2>
<p>Build 26d40c3a / 2022-04-06.</p>
<ul>
<li>The editing speedup change has been pushed back to 2.1.51 due to a bug.</li>
<li>For Qt6, the video driver now defaults to OpenGL on Windows/Linux, like
earlier betas. The option in the preferences has been hidden again, and a new
file introduced for adjusting behaviour:
https://docs.ankiweb.net/platform/windows/display-issues.html#qt6</li>
</ul>
<h2 id="release-candidate-3-2"><a class="header" href="#release-candidate-3-2">Release Candidate 3</a></h2>
<p>Build c96ef8cd / 2022-04-05.</p>
<ul>
<li>The editor loads faster now, especially with lots of fields (thanks to
Henrik).</li>
<li>It is now possible to choose between OpenGL and software video drivers in the
preferences on Qt6.</li>
<li>Fixed background color mismatch in the editing screen.</li>
<li>Fixed highlight color button using text color (thanks to Henrik).</li>
<li>Fixed invisible tag input in Qt5 (thanks to Hikaru).</li>
<li>Set caret inside chemical expression in MathJax (thanks to Henrik).</li>
<li>Minor change to prevent the Advanced Browser add-on breaking.</li>
</ul>
<h2 id="release-candidate-2-5"><a class="header" href="#release-candidate-2-5">Release Candidate 2</a></h2>
<p>Build 6718e678 / 2022-03-31.</p>
<ul>
<li>Added a separate cloze button to repeat the current cloze (thanks to Henrik).</li>
<li>Fixed an error when importing some colpkg files from older Anki versions that
contained media.</li>
<li>Fixed an issue with adding items to the editor toolbar from an add-on (thanks
to Henrik).</li>
<li>Fixed cloze shortcut on Windows.</li>
<li>Fixed invalid HTML in field causing Anki to hang (thanks to Henrik).</li>
<li>Force decimal separator to be a period in the deck options, to work around
blank boxes in the Qt6 build.</li>
<li>New cards no longer have their position changed by the Forget action when
&quot;restore position&quot; is enabled, and the cards don't have an original position
(thanks to Rumo).</li>
</ul>
<h2 id="release-candidate-1-7"><a class="header" href="#release-candidate-1-7">Release Candidate 1</a></h2>
<p>Build ebe33a99 / 2022-03-29.</p>
<ul>
<li>Fixed a serious issue with repositioning/removing card templates in the card
layout screen, that was present since beta 3 (thanks to Rumo for the fix).</li>
<li>Fixed &quot;create cloze with same number&quot; shortcut on Qt6/macOS (thanks to
Henrik).</li>
<li>Fixed cursor sometimes not moving into MathJax editor, leading to accidental
deletion (thanks to Henrik).</li>
<li>Colpkg imports now always require a full sync.</li>
<li>Fall back on regular file deletion when no recycling bin/trash folder is
available on Linux.</li>
<li>Randomized card positions now start at 1, which avoids a corner case in
filtered deck scheduling.</li>
<li>Rows with database inconsistencies in the browse screen now prompt you to use
&quot;check database&quot; instead of saying they were deleted (thanks to Rumo).</li>
<li>The 'future due' graph no longer shows learning cards in a filtered deck as
being due a long time ago.</li>
<li>When Anki encounters an issue with a card template, it now provides a link to
a help page with more information (thanks to Rumo).</li>
</ul>
<h2 id="beta-9"><a class="header" href="#beta-9">Beta 9</a></h2>
<p>Build 4515c41d / 2022-03-21.</p>
<ul>
<li>Fixed a serious issue with changing card numbers in Change Notetype that was
present since beta 3. (thanks to Arthur for the reproduction steps).</li>
<li>Anki can now create backups periodically, instead of only on close. The
default is every 30 minutes; you can adjust this in the preferences screen.</li>
<li>The File menu now has an option to create a backup immediately.</li>
<li>When using Custom Study to extend deck limits in the V3 scheduler,
parent/child limits of the selected deck are no longer adjusted (thanks to
Rumo).</li>
<li>Fixed an error that could occur in the browser when switching profiles (thanks
to Hikaru).</li>
<li>Improvements and optimizations to colpkg exports/imports (thanks to Rumo).</li>
</ul>
<h2 id="beta-8"><a class="header" href="#beta-8">Beta 8</a></h2>
<p>Build 02c580e4 / 2022-03-17.</p>
<ul>
<li>Various fixes for .colpkg importing and exporting. We're reasonably confident
the bugs have been ironed out at this point, but would appreciate you giving
them a try and confirming the new code works well for you.</li>
<li>.colpkg files created with the previous beta will not be importable into this
build. If you created a .colpkg file with beta 7 and need to recover data from
it, please get in touch and we can help you out.</li>
<li>Fixed addMedia() call used by some add-ons (thanks to Henrik).</li>
</ul>
<h2 id="beta-7-1"><a class="header" href="#beta-7-1">Beta 7</a></h2>
<p>Build 02ba50f2 / 2022-03-15.</p>
<p>This release has been yanked due to bugs in colpkg imports. Please wait for the
next beta.</p>
<ul>
<li>Reworked .colpkg import/export (thanks to Rumo):
<ul>
<li>When exporting, you can optionally target Anki 2.1.50+. When doing so,
imports and exports are faster, and media files will be compressed, but the
resulting .colpkg will not be readable by older Anki clients.</li>
<li>Collections are now checked for corruption when importing.</li>
</ul>
</li>
<li>Various fixes for the editor (thanks to Henrik):</li>
<li>Allow longer maximum answer times in the deck settings (thanks to Bruce).</li>
<li>The custom study screen no longer (sometimes incorrectly) limits the amount
you can extend the daily limits by.</li>
<li>Fix an intermittent error when building on Windows.</li>
</ul>
<h2 id="beta-6-1"><a class="header" href="#beta-6-1">Beta 6</a></h2>
<p>Build a495fbaa / 2022-03-09.</p>
<ul>
<li>Reworked backup handling (thanks to Rumo):
<ul>
<li>Backups are created much faster than they were previously, which allows Anki
to close faster when you have a large collection, while still compressing
the backups.</li>
<li>There are new options in the preferences to control the number of daily,
weekly and monthly backups you'd like to retain. Anki will keep all backups
made in the last 48 hours, but avoids making more than one every 5 minutes
when you're rapidly opening and closing your profile.</li>
<li>Because the backup storage format has changed, backups created with 2.1.50
will not be importable into older Anki versions. Manually-exported colpkg
files are still compatible with older Anki versions.</li>
</ul>
</li>
<li>When exporting a shared deck with scheduling disabled, the original card
position will be restored if it is available (thanks to Rumo).</li>
<li>The Forget action now gives you options to restore the original card position,
and to reset the card's lapse and repetition counters (thanks to Rumo).</li>
<li>You can now search for tags by regular expression (thanks to Rumo). One use
for this is locating notes that are tagged with a <code>parent</code> tag, while not
matching ones tagged with <code>parent::child</code>: <code>tag:re:^parent$</code>.</li>
<li>Added a silent option (/s) for the Windows uninstaller (thanks to Patric).</li>
<li>Fixed add-on config screen failing to show in bundled build.</li>
<li>Fixed buried counts being shown when v2 scheduler enabled.</li>
<li>Fixed MathJax sometimes being deleted when it wasn't visibly selected (thanks
to Henrik).</li>
<li>Fixed newline shortcut in MathJax editor (thanks to Henrik).</li>
<li>Fixed shortcut/button to add a new tag (thanks to Henrik).</li>
<li>Fixed some parts of the media handling code matching more HTML tags than it
should have (thanks to Brayan).</li>
<li>Fixes for the bury count on the overview screen (thanks to Rumo).</li>
</ul>
<h2 id="beta-5-1"><a class="header" href="#beta-5-1">Beta 5</a></h2>
<p>Build 3564ece6 / 2022-02-25.</p>
<p>Editor fixes, thanks to Henrik:</p>
<ul>
<li>Fixed <code>&lt;</code> and <code>&gt;</code> not working correctly in the MathJax editor.</li>
<li>Fixed media files not being inserted at cursor position on Windows.</li>
<li>Cloze shortcut correctly positions cursor.</li>
<li>Adjust color picker shortcut, and apply color when different color selected.</li>
<li>Make it easy for add-ons to adjust the HTML editor theme.</li>
</ul>
<p>Other changes:</p>
<ul>
<li>Fixed the errors when using the preview button in the browser, and more work
on memory leaks (thanks to Rumo).</li>
<li>Truncate deck names in the deck list if they are too long (thanks to Sachin).</li>
<li>Flags are undoable again, and should update correctly in the browser.</li>
<li>Hide the 'bury interday siblings' options when the V2 scheduler enabled.</li>
</ul>
<h2 id="beta-4-1"><a class="header" href="#beta-4-1">Beta 4</a></h2>
<p>Build 4ed499fb / 2022-02-23.</p>
<p>V3 scheduler changes, thanks to Rumo:</p>
<ul>
<li>When new cards are answered for the first time, Anki will remember their
original position, and it can be seen in the card info. An option to restore
cards to their original position manually and on export will likely come in
the next beta.</li>
<li>The overview screen now shows how many cards will be buried. Please report any
inaccuricies, as it is possible a different approach will be needed.</li>
<li>Added a separate option to control burying of interday learning siblings. This
is currently incorrectly shown when the V2 scheduler is enabled as well.</li>
<li>When a Hard learning step exceeds a day, it is now rounded to a full day, so
the delay does not vary depending on the time of day you answer.</li>
</ul>
<p>Other new features:</p>
<ul>
<li>The way bold/italics/etc is applied in the editor has been reworked to be more
robust, thanks to Henrik. This has resulted in tweaks to the formatting button
order, and the clear formatting button now lets you configure what formatting
should be removed.</li>
<li>An option to ignore accents in searches by default has been added to
preferences screen (thanks to Abdo).</li>
<li>Added a View menu to the main window and browse window (thanks to Rumo).</li>
</ul>
<p>Bugfixes:</p>
<ul>
<li>Added a &quot;Learn&quot; label to the learning counts in the deck list.</li>
<li>Fixed an error loading the old deck options screen when using Python 3.10.</li>
<li>Fixed an error when an installed TTS voice on Windows supported multiple
languages (thanks to Rumo).</li>
<li>Fixed an error when exporting a collection with media files in it with very
old modification dates (thanks to gnnoh).</li>
<li>Fixed junk appearing in the clipboard when copy/pasting on Windows, by rolling
Qt back to the previous version.</li>
<li>Fixed newly-added deck not being selected in the Add screen (thanks to
Hikaru).</li>
<li>Fixed sound failing to play after exporting a collection (thanks to Rumo and
Kelciour).</li>
<li>Fixed various memory leaks (thanks to Rumo and Hikaru).</li>
<li>Flag changes no longer add an undo entry, which fixes some potential errors
and unpredictable undo behaviour.</li>
<li>Reduced flicker when opening browser in night mode (thanks to Rumo).</li>
<li>Some behind-the-scenes code improvements (thanks to Sam).</li>
</ul>
<p>For developers:</p>
<ul>
<li><code>mw.progress.timer()</code> should now be passed a <code>parent</code> argument, as the
previous default of using <code>mw</code> prevents the timers from being freed after they
are no longer active.</li>
<li>Improved Python code completion/type handling in VS Code (thanks to Rumo).</li>
</ul>
<h2 id="beta-3-1"><a class="header" href="#beta-3-1">Beta 3</a></h2>
<p>Build 95dbf30f / 2022-02-10.</p>
<p>V3 scheduler changes, thanks to Rumo:</p>
<ul>
<li>Intermediate limits are now respected. For example, if you have a deck tree of
A&gt;B&gt;C&gt;D, and click on B, then deck C is limited by deck B, and deck D is
limited by both deck B and deck C. This is similar to the way the previous
schedulers behaved, except the decks above the one you click on do not
contribute to the limit.</li>
<li>The gathering and sorting of new cards has been reworked, trading a little
performance for more intuitive behaviour:
<ul>
<li>It is now possible to sort notes or cards randomly at gather time, ensuring
a random selection is taken from all available new cards.</li>
<li>The gather order and sort order options have been simplified, but should
offer the same functionality as before. Please check your deck options after
upgrading, as some users may need to adjust their display order settings to
match what they were using before.</li>
</ul>
</li>
<li>If you have more than 2 learning steps, after the first step, Hard repeats the
previous delay, instead of being the average of the previous and next step.</li>
<li>Review cards and new cards are now interspersed more evenly.</li>
</ul>
<p>Improvements to the editor, thanks to Henrik:</p>
<ul>
<li>You can now use the keyboard left/right keys to move into/out of the MathJax
editor.</li>
<li>The HTML editor now matches the current Anki theme.</li>
<li>Fixed an issue that could prevent image resizing.</li>
<li>Fixed IME input after pressing tab.</li>
<li>Fixed currently-focused field not updating contents after an undo operation or
find&amp;replace.</li>
<li>Fixed leading HTML comments being stripped by the HTML editor.</li>
<li>Lots of other behind-the-scenes changes (see the developers section below) and
fixes.</li>
</ul>
<p>New features:</p>
<ul>
<li>Be smarter about mapping existing text to new fields when switching notetypes
in the Add screen (thanks to Abdo).</li>
<li>A new TTS tag format that allows you to combine extra text and multiple
fields, such as
<code>[anki:tts lang=en_US]Here is {{Field1}} and {{Field2}}[/anki:tts]</code> (thanks to
Rumo). There are no plans to deprecate the old TTS syntax - either can be
used.</li>
<li>Apkg files can now be dragged on the main window to import them (thanks to
Abdo).</li>
<li>&quot;Create Copy&quot; uses the current card's deck, and can be also accessed via
shortcut from the review screen (thanks to Rumo)</li>
<li>Added Belarusian and Odia to available languages in the preferences.</li>
<li>When switching Anki versions, an add-on update check is run on startup (thanks
to Rumo).</li>
<li>Make links with target=_blank work (thanks to Danish).</li>
<li>Added &quot;Forget Card&quot; action to review screen (thanks to Araceli).</li>
</ul>
<p>Fixes and other improvements:</p>
<ul>
<li>Compression on automatic backups has been turned off, which can make Anki much
faster to shut down with large collections (eg 7.9s-&gt;0.45s). Compression will
likely come back in the future when we can integrate a more efficient
compression library.</li>
<li>Add back the missing &quot;Show Duplicates&quot; link in the editor (thanks to Matthias
and Henrik).</li>
<li>Added shortcut keys for creating lists and indentation (thanks to Rumo).</li>
<li>Behind-the-scenes improvements to the deck and notetype selectors (thanks to
Sam).</li>
<li>Change cards/notes toggle to Ctrl/Cmd+Alt+T to avoid conflict on macOS.</li>
<li>Deck creation in the custom study screen has been reworked, and now supports
undo properly (thanks to Rumo).</li>
<li>Don't show error when gsettings exists but does not have a GNOME theme set
(thanks to Spooghetti420).</li>
<li>Don't show error when Windows color scheme setting is missing (thanks to qxo).</li>
<li>Filtered decks in 'order added' now sort by card template.</li>
<li>Fixed a number of issues with the preview window (thanks to Hikaru).</li>
<li>Fixed AltGr triggering Ctrl+Alt shortcuts on Windows (thanks to Rumo)</li>
<li>Fixed an error that could appear when clicking on the sidebar (thanks to qxo).</li>
<li>Fixed error shown when double-tapping answer buttons on the v3 scheduler.</li>
<li>Fixed external scripts being executed out of order (thanks to Hikaru).</li>
<li>Fixed field content sometimes spilling outside container (thanks to Hikaru).</li>
<li>Fixed flicker in review screen when referencing external js, and preload css
files (thanks to Hikaru).</li>
<li>Fixed interday learning siblings not being buried during review, causing them
to reappear later after actions like an edit.</li>
<li>Fixed new card position appearing as a date when cards were in preview (thanks
to Abdo).</li>
<li>Fixed unwanted <code>&lt;div&gt;</code> being left behind when deleting field contents (thanks
to Hikaru).</li>
<li>Hide &quot;open new window&quot; action in GNOME (thanks to Fusion future &amp; Felipe)</li>
<li>Improve search highlight color in templates screen (thanks to Abdo).</li>
<li>Improved display of the card info screen (thanks to Rumo).</li>
<li>Improved localization of large numbers in the graphs, and various layout
tweaks (thanks to Vova).</li>
<li>Performance improvements for searching through many fields with a wildcard
search (thanks to Rumo).</li>
<li>Report correct count in timebox screen with v2 scheduler (thanks to Abdo).</li>
<li>Support Markdown inside HTML tags in config.md (thanks to Abdo).</li>
<li>The <code>note:</code> and <code>card:</code> searches no longer do a substring match (thanks to
Rumo).</li>
<li>The calendar graph uses consistent coloring as years are changed (thanks to
Ryan).</li>
<li>The top and bottom bars will no longer zoom in/out, but the main area and
editors can be zoomed in and out (thanks to Rumo).</li>
<li>Tweaks to the sidebar icons (thanks to Henrik).</li>
<li>Updated translations - thanks as always to all the translators.</li>
<li>Use white menubar on Windows (thanks to Rumo).</li>
<li>Various behind-the-scenes fixes (thanks to Arthur).</li>
</ul>
<p>Packaging changes:</p>
<ul>
<li>The building of the Anki packages has been reworked. Everything should
hopefully behave as before; if you notice any problems, please let us know.</li>
<li>Update to (Py)Qt 6.2.3.</li>
<li>Update mpv to 0.34 on Windows.</li>
<li>Fcitx5 support is now bundled with both the qt6 and qt5 Linux packages.</li>
<li>Drop the experimental arm64 Linux package.</li>
</ul>
<p>Notes for developers:</p>
<p>Henrik has spent a lot of time working out how to smoothly provide an API for
the editor, and investigating how we can provide types to make targeting the API
easier. This has required a number of refactorings, and some add-ons that were
accessing the editor will have broken again in this update. While the code is
not set in stone yet, hopefully we're getting there. An example of using the
latest API is available here:</p>
<p><a href="https://github.com/hgiesel/anki_new_format_pack/commits/master">https://github.com/hgiesel/anki_new_format_pack/commits/master</a></p>
<h2 id="beta-2-1"><a class="header" href="#beta-2-1">Beta 2</a></h2>
<p>Build db804d95 / 2021-12-09.</p>
<p>macOS:</p>
<ul>
<li>The Apple Silicon build now supports recording, and is fully native - Rosetta
is no longer required.</li>
<li>The Qt6 Intel build now has a minimum macOS requirement of 10.14.4.</li>
</ul>
<p>Linux:</p>
<ul>
<li>
<p>Fixed not being able to run Anki after running install.sh.</p>
</li>
<li>
<p>Added an experimental arm64 packaged build. PyQt and Qt are not included, so
you need to link in your distro's version of PyQt5.15. For example, after
untarring the file and changing into the top level directory with the 'anki'
executable:</p>
<pre><code># eg Debian 11:
sudo apt install python3-pyqt5.{qtwebengine,qtmultimedia}
ln -sf /usr/lib/python3/dist-packages/PyQt5 lib/

# eg Fedora 34:
sudo dnf install python3-qt5-webengine
ln -sf /usr/lib64/python3.9/site-packages/PyQt5 lib/
</code></pre>
<p>You may also be able to use the above technique for switching the x86_64
builds to your system's PyQt version - just delete the PyQt5 or 6 folder
before linking your system version in.</p>
</li>
<li>
<p>Fcitx users: this build includes libraries that may allow the Qt5 build to
work with Fcitx. Please let us know if they work for you or not.</p>
</li>
</ul>
<p>Features:</p>
<ul>
<li>Added a &quot;Create Copy&quot; option in the browse screen, to copy selected note's
contents into the Add window (thanks to Rumo).</li>
</ul>
<p>Fixes:</p>
<ul>
<li>Make scrollbars dark again in night mode (thanks to Hikaru).</li>
<li>Various improvements to right-to-left display (thanks to Abdo).</li>
<li>Fixed an error being shown when gathering new cards in descending position in
the v3 scheduler.</li>
<li>Fixed unwanted height/width settings when copying images between fields
(thanks to Henrik).</li>
<li>Reduced editor button size on Windows/Linux (thanks to Mathtias).</li>
<li>Support autoplay in audio tags again (thanks to Andreas).</li>
<li>Don't save window position when they're full screen, as Qt doesn't handle it
well (thanks to Rumo).</li>
<li>Fixed the main window sometimes failing to load properly when Anki starts
(which could lead to blank windows, a giant sync icon, etc).</li>
<li>Miscellaneous other fixes, thanks to Abdo, Matthias, TheFeelTrain and Arthur.</li>
</ul>
<h2 id="beta-1-3"><a class="header" href="#beta-1-3">Beta 1</a></h2>
<p>Build 43c41d76 / 2021-12-04.</p>
<p>Toolkit changes:</p>
<ul>
<li>The packaged builds now come in separate Qt5 and Qt6 versions.</li>
<li>Qt6 is a recently-updated version of the toolkit. It fixes some issues that
existed in Qt5, but it may introduce new problems. We recommend you try it
first.</li>
<li>Qt5 is the graphics toolkit used to build previous Anki releases. If you find
that Qt5 works for you and Qt6 does not, please let us know.</li>
</ul>
<p>Windows:</p>
<ul>
<li>Windows 10 or 11 is required. If you are still using Windows 7 or 8, 2.1.49 is
the last build that will install on your system.</li>
</ul>
<p>macOS:</p>
<ul>
<li>There is now a native build for Apple Silicon. It currently does not support
recording, and the audio playback still uses Intel binaries, so you will still
need Rosetta installed. Only Qt6 is available for Apple Silicon.</li>
<li>The Qt6 x86 build requires macOS 10.14.</li>
<li>The Qt5 x86 build requires macOS 10.13.4.</li>
</ul>
<p>Linux:</p>
<ul>
<li>The Linux builds need zstd to decompress, eg:</li>
</ul>
<pre><code class="language-sh">sudo apt install zstd
tar axf anki-2.1.50-linux-qt6.tar.zstd
</code></pre>
<ul>
<li>The x86 builds require glibc 2.27 or later.</li>
<li>A wheel is now provided for ARM64 Linux, and requires glibc 2.31 or greater. A
packaged version is not currently possible.</li>
<li>No fcitx driver or gtk2 theme is bundled with the packaged builds at the
moment.</li>
</ul>
<p>Major editor changes, mostly thanks to Henrik:</p>
<ul>
<li>A redesigned tag editor.</li>
<li>MathJax has a live preview.</li>
<li>HTML and rendered text can be viewed at the same time.</li>
<li>Images can be resized within the editor.</li>
<li>Fields can now have an optional description/tooltip assigned to them (thanks
to Matthias, Henrik &amp; Rumo).</li>
<li>Lots of behind-the-scenes changes. Because of the extensive changes, some
add-ons that modify the editing screen will have broken.</li>
</ul>
<p>Scheduler changes:</p>
<ul>
<li>The V1 scheduler is no longer supported. If you have not yet updated to V2 or
V3, you will be prompted to update when you attempt to review cards in 2.1.50.</li>
<li>The V3 scheduler will be declared stable when 2.1.50 is released.</li>
<li>The V3 scheduler applies fuzz more evenly now, especially with smaller
intervals (thanks to Rumo).</li>
<li>Fixed new cards not decrementing the review limit in V3, which could lead to
more new cards appearing after the review limit was reached.</li>
<li>Fixed new cards not appearing in the correct order in the V3 scheduler.</li>
</ul>
<p>Other new features:</p>
<ul>
<li>Anki will now switch to day or night mode automatically depending on your
system settings. You can force day or night mode in the Preferences screen.
(thanks in large part to Rumo).</li>
<li>The Card Info screen now updates automatically as you change to a different
card (thanks to Rumo).</li>
<li>Added a shortcut to make Anki full screen (F11 or Cmd+Ctrl+F, thanks to Rumo).</li>
<li>Added tooltips to some browser columns (thanks to Rumo).</li>
<li>Added an option to add/remove sidebar tag to selected notes (thanks to Rumo).</li>
</ul>
<p>Other improvements:</p>
<ul>
<li>Improvements to the Change Notetype screen (thanks to Matthias).</li>
<li>Improved performance with large selections in the Browse screen (thanks to
Rumo).</li>
<li>Fixed the deck list showing up blank in collections with many expanded decks.</li>
<li>Changed the &quot;Previous Card Info&quot; shortcut to avoid a conflict with language
input.</li>
<li>Possible fix for intermittent UI glitch on initial startup (thanks to
Evandro).</li>
<li>Flip sidebar location in RTL mode (thanks to Abdo).</li>
<li>Fix deck name not updating after deck/notetype renamed (thanks to Hikaru).</li>
<li>Fixed &quot;tag duplicates&quot; possibly operating on stale data (thanks to Ren).</li>
<li>The Add Cards screen will no longer allow accidental triggering of main window
shortcuts when it is open on a Mac (thanks to Rumo).</li>
<li>Fixed incorrect card count in timebox after undo (thanks to Abdo).</li>
<li>Fixed quotation of &quot;and&quot; and &quot;or&quot; in search (thanks to Rumo).</li>
<li>Numerous other fixes and contributions, thanks to Rumo, Henrik, Abdo,
Matthias, Evandro, Arthur, Soren, BlueGreenMagick, Yoshi, Jakub, Gesa,
blue-putty, stopendy, and zjosua.</li>
</ul>
<p>For developers:</p>
<ul>
<li>Anki now requires Python 3.9.</li>
<li>Anki contains some compatibility shims that should allow many add-ons written
for PyQt5 to work with PyQt6 as well (thanks to Aristotelis). These shims will
not remain forever, so it is recommended that you update your add-ons to be
compatible with Qt6 without shims. The two main breakages are the renaming of
PyQt5 to PyQt6 (you can support both by importing from aqt.qt instead), and
the requirement that
<a href="https://github.com/ankitects/anki/pull/1406/commits/a7812dedc096627692ab3d7e64b90be632f52134">enums are qualified</a>.</li>
<li>If you’re using Qt Designer to generate UI files, the Qt5 and Qt6 versions
need to be generated and bundled separately if you want to support both at
once.</li>
<li>PyQt6 does not support the Qt resource system (pyrcc was removed), so Anki now
uses a different approach, and urls like <code>:/icons/foo.jpg</code> should become
<code>icons:foo.jpg</code>.</li>
<li>The way Anki is packaged has changed. Most of the standard library should be
available now. If you notice any problems importing standard libraries that
previously worked, please let us know.</li>
<li>The aqt package no longer depends on PyQt, as either version 5 or 6 is
supported. You can specify the major version you want when installing - eg
<code>pip install 'aqt[qt6]'</code></li>
<li>manifest.json now supports a 'homepage' argument (thanks to Abdo)</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="changes-in-2148"><a class="header" href="#changes-in-2148">Changes in 2.1.48</a></h1>
<h2 id="release-candidate-2-6"><a class="header" href="#release-candidate-2-6">Release Candidate 2</a></h2>
<p>Build 466d67ca / 2021-09-16.</p>
<ul>
<li>Possible fix for reported sound issues.</li>
<li>Wayland is off by default again, but can be enabled by starting Anki with
ANKI_WAYLAND=1 defined.</li>
</ul>
<h2 id="release-candidate-1-8"><a class="header" href="#release-candidate-1-8">Release Candidate 1</a></h2>
<p>Build af2ec0b9 / 2021-09-13.</p>
<ul>
<li>Add &quot;Previous Card Info&quot; action to review screen (thanks to Evandro).</li>
<li>Changes to the packaging to (hopefully) support Wayland.</li>
<li>Fix flag names not updating on profile switch (thanks to Rumo).</li>
<li>Hide &quot;Rename with Parents&quot; for top-level items (thanks to Rumo).</li>
<li>&quot;Add Field&quot; action now correctly handles multi-word font names.</li>
<li>Fix newline being added when coloring text (thanks to Henrik).</li>
<li>Fix incorrect system font when running Anki in some non-English languages.</li>
<li>Fix learning count sometimes jumping to a large number in the v3 scheduler.</li>
<li>Fix console warning when playing audio (thanks to Evandro).</li>
<li>Another fix for Reposition command not working on buried/suspended cards.</li>
<li>Preserve focus when changing notetype in the Add screen.</li>
<li>Miscellaneous other fixes.</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="changes-in-2147"><a class="header" href="#changes-in-2147">Changes in 2.1.47</a></h1>
<h2 id="release-candidate-2-7"><a class="header" href="#release-candidate-2-7">Release Candidate 2</a></h2>
<p>Build 3077a1f9 / 2021-08-25.</p>
<ul>
<li>Fixed calendar graph day labels showing incorrectly in some timezones.</li>
</ul>
<p>For add-on developers:</p>
<ul>
<li>The Svelte components Anki exports should now work correctly in add-ons,
provided they exclude svelte when bundling.</li>
<li>WithShortcut is now also available.</li>
</ul>
<h2 id="release-candidate-1-9"><a class="header" href="#release-candidate-1-9">Release Candidate 1</a></h2>
<p>Build dffa38c4 / 2021-08-22.</p>
<p>Changes to the <a href="https://faqs.ankiweb.net/the-2021-scheduler.html">v3 scheduler</a>:</p>
<ul>
<li>Interday learning cards are included in the learning count again, instead of
the review count.</li>
<li>Interday learning cards are still affected by the review limit. Interday
learning cards are fetched first, then reviews, and finally new cards.</li>
<li>Filtered decks with rescheduling disabled now log reviews, so the reviews will
appear in your graphs.</li>
<li>Added an option to sort reviews by ascending/descending ease.</li>
<li>Fixed an issue where an error message could appear after undoing/redoing a mix
of reviews and other changes.</li>
<li>Fixed custom scheduling not working.</li>
</ul>
<p>Other changes:</p>
<ul>
<li>The &quot;timebox finished&quot; message is now shown on card answer, instead of after
revealing the next card. This should also address an issue where the message
popped up outside of review.</li>
<li>Added shortcut for Forget in the Browse screen.</li>
<li>Fixed an error being shown when there was no current deck.</li>
<li>Fixed incorrect quoting in duplicate search (thanks to Abdo).</li>
<li>Fixed deck options inverting the &quot;replay question when showing answer&quot; option.</li>
<li>Fixed an issue with ampersands in the Add Cards history button (thanks to
Arthur).</li>
<li>Fixed handling of audio/video tags (thanks to Hikaru).</li>
<li>Fixed errors playing audio when computer was slow to respond (thanks to
Kelciour).</li>
<li>Fixed preferences screen not updating undo menu, and causing an error when
subsequently reviewing a card in the v3 scheduler.</li>
<li>Fixed case changes being ignored in tag rename.</li>
<li>Fixed error shown when DB check run on corrupt collection.</li>
<li>Fixed deck options prompt showing the default deck, instead of the correct
one.</li>
<li>Fixed reposition command ignoring suspended cards.</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="changes-in-2145"><a class="header" href="#changes-in-2145">Changes in 2.1.45</a></h1>
<h2 id="release-candidate-2-8"><a class="header" href="#release-candidate-2-8">Release Candidate 2</a></h2>
<p>Build e7189f4a / 2021-07-24.</p>
<ul>
<li>Fix numpad enter in type answer screen.</li>
<li>Avoid escaping non-Latin text in image filenames (thanks in part to Hikaru).</li>
<li>Find and replace / rename with parent options in the sidebar (thanks to Rumo).</li>
<li>F3/F4 in card layout screen go to next/previous template (thanks to Evandro).</li>
<li>Set due date uses the deck's configured starting ease (thanks to cyphar).</li>
<li>Fix preview shortcut when fields not focused (thanks to Henrik).</li>
<li>Strip invalid unicode from filenames in media check.</li>
<li>Fix skipped entry on mousedown in browser search history (thanks to Rumo).</li>
<li>Handle buggy hooks in the reviewer (thanks to Henrik &amp; Hikaru).</li>
<li>Fix flags not being excluded on export (thanks to Alex).</li>
<li>Fix notes with missing cards causing a fatal browser error.</li>
<li>As always, thanks to the translators who've contributed translations.</li>
<li>Minor other changes.</li>
</ul>
<h2 id="release-candidate-1-10"><a class="header" href="#release-candidate-1-10">Release Candidate 1</a></h2>
<p>Build 60f6fccc / 2021-07-13.</p>
<ul>
<li>Fix red duplicate background being included in copy+paste (thanks to Hikaru).</li>
<li>Fix copy/cut affecting whole line in HTML editor (thanks to Hikaru).</li>
<li>Fix spurious error when importing v1 scheduling deck into v1 collection.</li>
<li>Tweaks to deck config/editor API (thanks to Henrik).</li>
<li>An add-on compat fix for the browser (thanks to Rumo).</li>
<li>More friendly message when importing v2 deck into v1 collection.</li>
<li>Allow cloze: in non-cloze notetypes for now.</li>
<li>Miscellaneous other changes.</li>
</ul>
<h2 id="beta-6-2"><a class="header" href="#beta-6-2">Beta 6</a></h2>
<p>Build 6ffa7440 / 2021-07-04.</p>
<ul>
<li>Pre-load images on answer side (thanks to Hikaru).</li>
<li>Updated sidebar and editor icons (thanks to Henrik).</li>
<li>Fixed revert confirmation sometimes getting stuck in deck options (thanks to
Henrik).</li>
<li>Fixed unnecessary percent-escaping of images in HTML editor.</li>
</ul>
<h2 id="beta-5-2"><a class="header" href="#beta-5-2">Beta 5</a></h2>
<p>Build 0f7a230f / 2021-06-29.</p>
<ul>
<li>Fixed the packaging issue in beta 4 that was preventing startup.</li>
<li>Show deck options in two columns on wider screens (thanks to Matthias, Hikaru
&amp; Henrik).</li>
<li>Sidebar search now scrolls to first match (thanks to Abdo &amp; Rumo).</li>
<li>Reverted a change that was causing some add-ons that modify the reviewing
screen to break.</li>
<li>Show error before uploading if collection larger than AnkiWeb's limits.</li>
<li>Handle invalid card template numbers in DB check.</li>
<li>Fixed error message when confirming cloze deletion in normal note type.</li>
<li>Fixed expanding/collapsing tags triggering refresh (thanks to Rumo).</li>
<li>Fixed night mode preset dialogs in deck options (thanks to Henrik).</li>
<li>Fixed some issues with preserving selected item in sidebar (thanks to Rumo).</li>
</ul>
<h2 id="beta-3-2"><a class="header" href="#beta-3-2">Beta 3</a></h2>
<p>Build 18843e71 / 2021-06-25.</p>
<ul>
<li>Fixed remembered tags not being applied to subsequently added cards after
actions like toggling a pin/deleting a deck/etc.</li>
<li>Fixed toggling of night mode preview in day mode (thanks to hkr).</li>
<li>Fixed incorrect field content issue with HTML editor (thanks to Henrik).</li>
<li>Exclude deck and tag expand/collapse from undo queue; fixes automatic scroll
to Current Deck in Browser.</li>
<li>Fixed .apkg importer allowing import of V2 collection with scheduling into a
V1 collection.</li>
<li>Disable cloze and math buttons in HTML editor.</li>
</ul>
<h2 id="beta-2-2"><a class="header" href="#beta-2-2">Beta 2</a></h2>
<p>Build b693bdbf / 2021-06-24.</p>
<p>Known issues:</p>
<ul>
<li>If adding cards with tags, toggling a pin will clear the saved tags, but they
will still be shown in the UI. To make sure the tags are still added, to
subsequent cards, please click in the tags area after toggling a pin.</li>
</ul>
<p>Browser updates:</p>
<ul>
<li>Added an option in the Preferences screen to customize the starting search
text (eg, to start with &quot;deck:current&quot;).</li>
<li>More reliably scroll to the current card.</li>
<li>New tag icons and associated backend work (thanks to Henrik).</li>
</ul>
<p>HTML editor, thanks to Henrik:</p>
<ul>
<li>Now appears inline, instead of in a separate pop-up.</li>
<li>Supports syntax highlighting, and showing opening/closing tags.</li>
</ul>
<p>Change notetype:</p>
<ul>
<li>Supports multiple undo.</li>
<li>Can match old and new fields by name.</li>
<li>Allows mapping a source field to more than one destination fields, allowing
you to clone the contents of a field.</li>
</ul>
<p>Other features:</p>
<ul>
<li>Warn user when they attempt to use cloze markers inappropriately (thanks to
Rumo).</li>
<li>Support system SSL certs on Linux.</li>
<li>Improved add-on support for the new deck options screen (thanks to Henrik).</li>
<li>Changed v3 scheduler label from &quot;experimental&quot; to &quot;beta&quot;.</li>
</ul>
<p>Fixes:</p>
<ul>
<li>Fixed resource leak in sound code (thanks to Kelciour).</li>
<li>Fixed incorrect font on Windows (thanks to Kelciour).</li>
<li>Fixed crash when pressing the copy shortcut with no active selection.</li>
<li>Make the color selector inactive when no field is selected (thanks to hkr),
and make it apply color immediately (thanks to Henrik).</li>
<li>Fixed creation of filtered decks from Browser (thanks to Rumo).</li>
<li>Fixed escaping of hyphens in searches (thanks to Rumo).</li>
<li>Fixed 'Set Due Date' not remembering provided input.</li>
<li>Fixed incorrect card count when removing multiple templates.</li>
<li>Fixed an issue compiling on recent Python 3.9 installs.</li>
<li>Fixed field pin status being forgotten when opening Cards screen (thanks to
Henrik).</li>
<li>Reduce chances of a flash when revealing answer on cards with images.</li>
<li>Miscellaneous other changes.</li>
</ul>
<h2 id="beta-1-4"><a class="header" href="#beta-1-4">Beta 1</a></h2>
<p>Build 5bd2dc65 / 2021-06-08.</p>
<p>Changes:</p>
<ul>
<li>Added an option to the v3 scheduler to sort new cards in reverse order.</li>
<li>Added a Card Info option to the review screen.</li>
<li>Reduced editor toolbar size on Macs.</li>
<li>When opening the Browse screen with an active study card, the whole deck is
now shown (thanks to Rumo).</li>
</ul>
<p>Fixes:</p>
<ul>
<li>Fixed audio getting stuck when pausing near end (thanks to kelciour).</li>
<li>Fixed current review card sometimes changing when making edits.</li>
<li>Fixed deck options tooltip appearance (thanks to Matthias).</li>
<li>Fixed selected deck not being honored when importing text file.</li>
<li>Fixed styling changes not being reflected in preview.</li>
<li>Fixed timebox window getting stuck when it appeared at start of study.</li>
<li>Fixed various links to the manual (thanks to cherryblossom000).</li>
</ul>
<h2 id="alpha-4"><a class="header" href="#alpha-4">Alpha 4</a></h2>
<p>Build be9bbf21 / 2021-06-02.</p>
<p>Known issues:</p>
<ul>
<li>Changes to styling section in card layout screen not reflected in preview.</li>
</ul>
<p>v3 scheduler changes:</p>
<ul>
<li>The v3 scheduler can now be toggled in the Preferences screen.</li>
<li>Review cards can now optionally be shown in subdeck order.</li>
<li>Fixed 'deck priority' for new cards not following subdeck order.</li>
</ul>
<p>Other features/behaviour changes:</p>
<ul>
<li>Updated text colour and highlight colour buttons, thanks to Henrik and
Matthias.</li>
<li>Added 3 new flag colours, thanks to Rumo.</li>
<li>Sidebar items can be dragged onto the Saved Searches area to add them as a
favourite, thanks to Rumo.</li>
<li>Added a new menu item to clone the current deck options.</li>
<li>Custom study now limits the tag selection to 100 tags or fewer.</li>
<li>Extra checks are now done when updating a card template, such as detecting
when a cloze notetype is missing a cloze directive, or two templates have
identical question sides, thanks to Rumo.</li>
<li>Editor toolbar styling improvements, thanks to Henrik and Matthias.</li>
<li>The &quot;sync required&quot; indicator is now updated immediately, and will turn off if
you undo the first change made after a sync.</li>
<li>Removed the superfluous &quot;keep input&quot; option from the Fields dialog.</li>
<li>When opening deck option from the study screen, you'll now be asked which deck
you want if the card is in a subdeck.</li>
<li>Support ctrl+numpad enter to add cards.</li>
</ul>
<p>Fixes:</p>
<ul>
<li>Fixed an error/crash occurring when timeboxing was enabled.</li>
<li>Fixed deck options screen mishandling steps shorter a minute.</li>
<li>Fixed remembered tags not being applied to subsequently-added notes.</li>
<li>Fixed an error being shown when exporting cards/decks with a non-default deck
configuration.</li>
<li>Fixed changes to the current field not being saved when saving the deck
options.</li>
<li>Fixes for building on linux-arm64 (thanks to qubist-pixel-ux).</li>
<li>Force x11 mode when the packaged build is run on a system that tells Qt to use
Wayland, as Wayland is not currently supported by the packaged build.</li>
<li>When a fatal error occurs, close Anki instead of allowing it to remain in a
stuck state.</li>
<li>Fix formatting of some error messages, thanks to Rumo.</li>
<li>Various behinds-the-scenes changes thanks to Henrik and Rumo.</li>
<li>Miscellaneous other changes.</li>
</ul>
<h2 id="alpha-3"><a class="header" href="#alpha-3">Alpha 3</a></h2>
<p>Build f91f00a5 / 2021-05-24.</p>
<ul>
<li>Fix new ease not being applied when failing a review card in the v3 scheduler.</li>
<li>The <code>[...]</code> in cloze deletions is now read as &quot;blank&quot; by TTS (thanks to Rumo).</li>
<li>Flags can now be renamed in the sidebar (thanks to Rumo).</li>
<li>Improvements to the handling of shortcuts in the editor (thanks to Henrik).</li>
<li>Improve cards/notes switch appearance (thanks to Rumo &amp; Kleinerpirat).</li>
<li>Various tweaks to the Deck Options screen.</li>
<li>When Browse screen is opened, default to the first sidebar mode.</li>
<li>Add night mode styling to 'type in the answer' box, and improve legibility of
comparison.</li>
<li>Fix Find&amp;Replace searching in incorrect field.</li>
<li>Fix missing cumulative overlays in graphs.</li>
<li>Fix strange characters in Deck Options titlebar (thanks to Abdo).</li>
<li>Fix Unbury action missing cards in child decks.</li>
<li>Fix wrong stock note type being added (thanks to Abdo).</li>
<li>Horizontal scrolling in the browse screen is less jumpy (thanks to Rumo).</li>
<li>Report changed card count when changing deck/flag in Browse screen.</li>
<li>Fix actions like a sort column change clearing the undo history.</li>
</ul>
<h2 id="alpha-2"><a class="header" href="#alpha-2">Alpha 2</a></h2>
<p>Build b9a4908b / 2021-05-19.</p>
<ul>
<li>Fixed a bug that was causing the Undo action to force a full sync.</li>
<li>You can now redo undone actions. The Redo menu item will be hidden for actions
that don't support the new undo code, including reviews in the v1/v2 scheduer.</li>
<li>Changed the shortcut for Undo in the Browse screen to match the main window.</li>
<li>Fixed an error when switching between cards and notes modes (thanks to Rumo).</li>
<li>Various tweaks to the appearance of the deck options screen (some thanks to
Henrik).</li>
<li>Fixed Custom Study when the v3 scheduler is enabled.</li>
<li>Compatibility tweaks to fix the breakage of some add-ons.</li>
</ul>
<p>The Fields/Cards text in the editor is currently a bit large, and it'll likely
be tweaked in the future.</p>
<h2 id="alpha-1"><a class="header" href="#alpha-1">Alpha 1</a></h2>
<p>Build 10bfb95f / 2021-05-17.</p>
<p>There have been a lot of under-the-hood changes in this release, and there may
be some rough edges at the moment.</p>
<p>Undo handling:</p>
<ul>
<li>Most actions now support multiple undo steps. You can change a card template,
delete some notes, bury a card, then undo each of those steps if you wish.</li>
<li>Actions that support multiple undo steps will now save the changes
immediately, meaning that if Anki crashes, the changes you made in the last
few minutes will no longer be lost.</li>
<li>Actions that don't support the new undo handling (eg, Check Database), will
clear the undo history.</li>
<li>Add-ons will clear the undo history if they modify the database directly, or
use routines that don't support undoing. There are some new routines available
to add-ons to make operations undoable, but add-ons may need to be updated to
use them.</li>
</ul>
<p>Scheduling changes:</p>
<ul>
<li>An <a href="./2021-scheduler.html">experimental new scheduler</a>.</li>
<li>The deck list now shows the learning count separately.</li>
<li>On new collections, the v2 scheduler is now the default.</li>
</ul>
<p>Browser changes, thanks to Rumo:</p>
<ul>
<li>The sidebar now has two modes. The default allows clicking on items to search
for them. The other mode allows you to select multiple items at once, so you
can drag &amp; drop or delete multiple items.</li>
<li>The browse screen can now be toggled between showing cards, and showing notes.</li>
<li>When showing notes, some columns will show an aggregate over all the cards of
a note.</li>
<li>Added an introduced:x search to locate cards first studied in the last x days.</li>
<li>Column rendering has been moved into the backend, and will be faster than
before (but is still limited by the speed of the graphics toolkit).</li>
<li>A fair bit of the browser code has been changed, and some add-ons like the
&quot;Advanced Browser&quot; add-on will need to be updated to support the new approach.</li>
</ul>
<p>Editor changes, thanks to Henrik:</p>
<ul>
<li>The editing toolbar has been reimplemented in a way that will allow easier
improvements in the future.</li>
<li>The toolbar's icons and style have been updated.</li>
<li>The editor now provides bullet and numbered list buttons.</li>
<li>The editor now provides buttons to control text alignment and indent.</li>
<li>Sticky fields can now be toggled on/off from the editing screen.</li>
<li>Editor shortcuts are handled differently, and the current approach does not
work well on non-QWERTY keymaps. This will likely change before a stable
release.</li>
<li>A new API is available for add-ons, but this has not been finalized yet.</li>
</ul>
<p>State handling:</p>
<ul>
<li>When you make changes, the user interface should update more consistently now.
Adding a new tag to a note will update the sidebar in the Browse screen for
example, and when you review a card that is shown there, the columns will
update.</li>
<li>The Browse screen no longer refreshes a search automatically. When you make a
change, the column text may update, but the number of rows will not change.
Deleted cards show &quot;(deleted)&quot; until you search again.</li>
<li>The main window no longer shows a &quot;waiting for editing to finish&quot; screen. When
you make changes such as editing a note, the main window will dim, and will
automatically refresh when you return to it.</li>
</ul>
<p>The deck options screen has been reimplemented:</p>
<ul>
<li>(Re)learning steps are now shown with units, eg 10m or 4d.</li>
<li>Deck options are now shown on one scrollable page.</li>
<li>Extra help is available for most options.</li>
<li>It is easy to see at a glance which options have been changed from the
default, and individual options can be reverted to the default setting.</li>
<li>Warnings will be shown for some common issues (eg, review limit too low
compared to new cards).</li>
<li>Some of the more advanced options have been moved to a separate &quot;Advanced&quot;
section.</li>
<li>The old options can be accessed with a Shift+click, since it will take a while
for add-ons to be updated to support the new screen.</li>
<li>The deck description is now accessible via a button in the overview screen,
instead of via the deck options.</li>
</ul>
<p>Other changes:</p>
<ul>
<li>Numerous behind-the-scenes improvements from Henrik and Rumo.</li>
<li>The Find&amp;Replace option in the Browse screen can now be used on tags as well.</li>
<li>You can now choose which add-ons you want to update (thanks to
BlueGreenMagick).</li>
<li>Fix text with single quote not being escaped in export (thanks to Ryan).</li>
<li>Other fixes and improvements thanks to Abdo, Glutanimate, Arthur and Shaun.</li>
<li>The Card Info screen ignores manual rescheduling when calculating the average
time.</li>
<li>Performance improvements and other miscellaneous fixes.</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="changes-in-2144"><a class="header" href="#changes-in-2144">Changes in 2.1.44</a></h1>
<h2 id="beta-1-5"><a class="header" href="#beta-1-5">Beta 1</a></h2>
<p>Build b2b3275f / 2021-05-04.</p>
<ul>
<li>Search text is no longer automatically quoted/interspersed with ANDs.</li>
<li>Fix two backslashes being treated as one in MathJax.</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="changes-in-2143"><a class="header" href="#changes-in-2143">Changes in 2.1.43</a></h1>
<h2 id="beta-1-6"><a class="header" href="#beta-1-6">Beta 1</a></h2>
<p>Build 0fbae6bc / 2021-03-27.</p>
<ul>
<li>The reviewing screen will now wait for up to 100ms for images to load before
showing, and waits until images have been loaded before scrolling to the
answer.</li>
<li>The default fade-in on the review screen has been removed.</li>
<li>Fix DB check incorrectly identifying an issue after lapsing a card with a
non-zero interval % in the V1 scheduler.</li>
<li>Fix editing toolbar being initially active (thanks to Henrik).</li>
<li>Fix some error messages (thanks to Rumo).</li>
<li>Fix expand/collapse triggering click in sidebar (thanks to BlueGreenMagick).</li>
<li>Update translations, thanks to the translators.</li>
<li>Fix &quot;Forgot Card&quot; message.</li>
<li>Fix deck list not updating after deleting.</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="changes-in-2141"><a class="header" href="#changes-in-2141">Changes in 2.1.41</a></h1>
<h2 id="add-on-notes"><a class="header" href="#add-on-notes">Add-On Notes</a></h2>
<p>Add-on authors, please see
<a href="https://forums.ankiweb.net/t/add-on-porting-notes-for-anki-2-1-41/7390">https://forums.ankiweb.net/t/add-on-porting-notes-for-anki-2-1-41/7390</a></p>
<h2 id="beta-7-2"><a class="header" href="#beta-7-2">Beta 7</a></h2>
<p>Build 3ba08d11 / 2021-03-04.</p>
<ul>
<li>Fix a freeze when answering a card with a missing parent deck.</li>
<li>Fix an error that could occur when syncing between 2.1.41 and older clients,
then downgrading.</li>
</ul>
<h2 id="beta-6-3"><a class="header" href="#beta-6-3">Beta 6</a></h2>
<p>Build 92aaaf71 / 2021-03-02.</p>
<ul>
<li>Fix 2.1 scheduler review counts not matching deck list.</li>
<li>Fix a focusing issue in the editor (thanks to Henrik).</li>
</ul>
<h2 id="beta-5-3"><a class="header" href="#beta-5-3">Beta 5</a></h2>
<p>Build 14cc81f8 / 2021-03-01.</p>
<ul>
<li>Filtered deck screen now has a link to show cards not matched by search
(thanks to Rumo, Abdo).</li>
<li>Support Alt+number to switch between clozes in the card layout screen (thanks
to Abdo).</li>
<li>Fix images not shrinking to fit editor field (thanks to Henrik).</li>
<li>Fix a focus handling issue in the editor (thanks to Henrik).</li>
<li>Fix incorrect review counts in the 2.1 scheduler when parent decks had a
smaller limit than their children.</li>
<li>Fix early review cards remaining in new queue after upgrading to 2.1
scheduler.</li>
<li>Improve error message when trying to nest under a filtered deck (thanks to
Rumo).</li>
<li>Use monospace font in HTML editor.</li>
</ul>
<h2 id="beta-4-2"><a class="header" href="#beta-4-2">Beta 4</a></h2>
<p>Build 46e9720e / 2021-02-21.</p>
<p>Scheduler updates:</p>
<ul>
<li>The V1-&gt;V2 upgrade process no longer resets cards that are in learning, or
removes cards from filtered decks.</li>
<li>Users on the old scheduler will now see a message at the top of the deck list
prompting them to update to the Anki 2.1 scheduler.</li>
<li>New users will see the message too. Enabling it by default would be a smoother
experience, but that needs to wait until AnkiDroid 2.15 is released as stable,
with support for the newer timezone handling.</li>
<li>There is no option to downgrade to the V1 scheduler anymore, though you can
still do so by downgrading to an older Anki version first.</li>
</ul>
<p>Fixes:</p>
<ul>
<li>Fix tag replacement/deletion matching substrings (thanks to Abdo).</li>
<li>Fix images not shrinking to fit in fields (thanks to Henrik).</li>
<li>Fix &quot;saved searches&quot; getting selected when clicking in empty area of sidebar
(thanks to BlueGreekMagick).</li>
<li>Reposition dialog's &quot;shift cards&quot; option now defaults to off.</li>
</ul>
<h2 id="beta-3-3"><a class="header" href="#beta-3-3">Beta 3</a></h2>
<p>Build b3b40933 / 2021-02-12.</p>
<ul>
<li>
<p>Sidebar:</p>
<ul>
<li>Drop multiple selection, and switch back to the old clicking behaviour.
Multiple selection can be tackled again in a future update.</li>
<li>&quot;Due&quot; now shows only cards due that day.</li>
<li>Added &quot;Overdue&quot; item.</li>
</ul>
</li>
<li>
<p>&quot;Set due&quot; now leaves the review intervals alone unless '!' is provided.</p>
</li>
<li>
<p>Fix stale preview in card layout screen (thanks to Henrik).</p>
</li>
<li>
<p>Ignore manually scheduled cards in hour graph.</p>
</li>
</ul>
<h2 id="beta-2-3"><a class="header" href="#beta-2-3">Beta 2</a></h2>
<p>Build 599d4634 / 2021-02-09.</p>
<ul>
<li>
<p>Sidebar changes:</p>
<ul>
<li>Multiple selection. Currently only works with tag and deck drag&amp;drop.</li>
<li>Ctrl/Alt/Shift options to add/modify the search now require a right click
instead of a left click, to avoid conflicts with multiple selection.</li>
<li>Move &quot;Current Deck&quot; to Decks</li>
<li>Click on Decks to show whole collection.</li>
<li>Click on Flags to show any flag.</li>
<li>Click on Tags to show all non-empty tags.</li>
<li>Added &quot;Untagged&quot; under Tags.</li>
</ul>
</li>
<li>
<p>&quot;Set Due Date&quot; changes:</p>
<ul>
<li>Interval can optionally be reset for review cards.</li>
<li>Input now remembered.</li>
</ul>
</li>
<li>
<p>Editor tweaks to make things easier for add-ons (thanks to Henrik).</p>
</li>
<li>
<p>Fix slowdown after large &quot;check media&quot; report.</p>
</li>
<li>
<p>Fix 'rsbackend' errors in some add-ons.</p>
</li>
<li>
<p>Fix compatibility with fastbar add-on.</p>
</li>
<li>
<p>Markdown rendering of deck config is now opt-in - once enabled, it will change
the handling of both the overview and congrats screen. When not enabled, the
congrats screen will not show the description.</p>
</li>
</ul>
<h2 id="beta-1-7"><a class="header" href="#beta-1-7">Beta 1</a></h2>
<p>Build 704b5e58 / 2021-02-07.</p>
<p>This beta includes all the changes from 2.1.39beta1 - please see its change
notes as well.</p>
<p>Changes since 2.1.39beta1:</p>
<ul>
<li>
<p>The editor's code has been reworked, thanks to Henrik:</p>
<ul>
<li><code>&lt;br&gt;</code> tags will now be used by default instead of the previous <code>&lt;div&gt;</code>
tags, which solves some issues with multiple lines in cloze deletions and
MathJax.</li>
<li>Invalid field content can no longer spill out into the editing area.</li>
<li>Other behind-the-scenes changes have been made at the same time, and some
add-ons that alter the editor will need updating.</li>
</ul>
</li>
<li>
<p>Browser sidebar improvements:</p>
<ul>
<li>Added a search bar, thanks to Abdo.</li>
<li>The remaining items in the Filter button have been moved into the sidebar,
and the Filter button removed.</li>
<li>Tags and decks can now be dragged and dropped.</li>
<li>Each section can now be expanded/collapsed.</li>
<li>Add-ons that were adjusting the sidebar or filter button may need updating.</li>
</ul>
</li>
<li>
<p>Search improvements, thanks to Rumo:</p>
<ul>
<li>Filtered decks can now be created from a browser search, and vice versa.</li>
<li>Better ergonomics for developers.</li>
</ul>
</li>
<li>
<p>Reworked the Reschedule tool:</p>
<ul>
<li>Split into separate &quot;Forget&quot; and &quot;Set Due Date&quot; actions</li>
<li>&quot;Set Due Date&quot; now
<a href="https://github.com/ankitects/anki/commit/704b5e581a70089798f0f4742640fde4a3f1a507">adjusts intervals</a>
of review cards, instead of resetting them.</li>
<li>Changed the &quot;Delete Tags&quot; shortcut; Ctrl+Shift+D now changes the due date.</li>
<li>Added the action to the review screen as well.</li>
</ul>
</li>
</ul>
<p>Other changes:</p>
<ul>
<li>The tags field in the editor now autocompletes from anywhere in a tag name,
not only the start.</li>
<li>The title bar on Macs will now turn dark when night mode is activated.</li>
<li>Improvements to the graphs, thanks to Henrik.</li>
<li>Add deck description back to congrats screen, with
<a href="https://forums.ankiweb.net/t/anki-2-1-39-deck-descriptions-gone-after-finished-studying/7261">caveats</a>.</li>
<li>Add opus to media list in editor.</li>
<li>Other improvements with thanks to Rumo, Henrik, Abdo, Arthur and Maksim.</li>
</ul>
<p>For developers:</p>
<ul>
<li>Almost all of the Python codebase now has type hints. 🎉</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h3 id="changes-in-2139beta2"><a class="header" href="#changes-in-2139beta2">Changes in 2.1.39beta2</a></h3>
<p>Build 576f0043 / 2021-01-30.</p>
<p>This beta is closer to 2.1.38 than the previous beta - it contains a bunch of
bugfixes from beta 1, but feature changes have been cut, and will come back in
2.1.40. This is expected to be released as stable without further changes, if no
issues are found in the next couple of days.</p>
<p>Please make sure to <a href="https://changes.ankiweb.net/">downgrade</a> with beta 1,
before opening beta 2.</p>
<p>Changes since 2.1.38 stable:</p>
<ul>
<li>Fix the Reposition command not preserving the browser sort order.</li>
<li>Fix some issues causing the sync indicator to show unnecessarily (thanks to
Rumo).</li>
<li>Fix a spurious warning about a full sync when renaming card templates.</li>
<li>Fix Anki not working after installing on Linux over a previous install.</li>
<li>Don't log card resets when exporting.</li>
<li>Fix congrats screen not showing when learning cards were due soon.</li>
<li>Updated bundled lame and mpv on Windows and Mac builds.</li>
<li>Other fixes and improvements, with thanks to Henrik, Rumo, Abdo, Arthur,
Guillem, Meredith, Gustavo and Daniel.</li>
</ul>
<h3 id="changes-in-2139beta1"><a class="header" href="#changes-in-2139beta1">Changes in 2.1.39beta1</a></h3>
<p>Build 32278813 / 2021-01-26.</p>
<p>New features:</p>
<ul>
<li>Browser improvements:
<ul>
<li>Tags now show in a tree (thanks to Abdo).</li>
<li>New context menu actions to rename or remove tags and their children, rename
decks, manage notetypes, and rename/remove saved searches (thanks to Abdo
and BlueGreenMagick).</li>
<li>The preview button in the browse screen has moved into the editing area
(thanks to Henrik).</li>
<li>With the improved sidebar, a number of options have been removed from the
Filter button.</li>
</ul>
</li>
<li>Search improvements:
<ul>
<li>Searches are new rewritten into a canonical format (eg <code>one two</code> becomes
<code>&quot;one&quot; AND &quot;two&quot;</code>) (thanks to Rumo).</li>
<li>Search error messages are now much more specific (thanks to Rumo).</li>
<li>is:learn, is:due and prop:due now handle more cases, such as suspended cards
(thanks to Henrik).</li>
<li>Added prop:pos search to search for new card position (thanks to Abdo).</li>
<li>Added a shortcut to replace part of a search with a different search (eg
changing the selected deck) (thanks to Rumo).</li>
<li>Support resched:x for searching for cards that were manually rescheduled in
x days (thanks to Henrik).</li>
<li>Support prop:rated/resched to search for rated/rescheduled cards over
specific time periods (thanks to Henrik).</li>
</ul>
</li>
<li>Graph improvements:
<ul>
<li>A number of the graphs can now be clicked on to search for the cards
displayed by the graph (thanks to Henrik).</li>
<li>The starting day of week can now be altered in the Calendar graph (thanks to
Henrik).</li>
<li>The Card Counts graph now supports toggling separate suspended/buried counts
(thanks to Henrik).</li>
<li>The intervals and ease graphs now covers more cases, such as suspended cards
(thanks to Henrik).</li>
<li>Place less emphasis on outliers in the Calendar graph (thanks to Henrik).</li>
</ul>
</li>
<li>Edit/More buttons auto-hide when window is small (thanks to Henrik).</li>
<li>The editor will now favour BR tags over DIVs (thanks to Henrik).</li>
<li>A basic sync server is now built into Anki. It does not yet support media.
Docs are in the docs/ folder of the source tree.</li>
</ul>
<p>Bugfixes:</p>
<ul>
<li>Fix the Reposition command not preserving the browser sort order.</li>
<li>Fix some issues causing the sync indicator to show unnecessarily (thanks to
Rumo).</li>
<li>Fix a spurious warning about a full sync when renaming card templates.</li>
<li>Fix Anki not working after installing on Linux over a previous install.</li>
<li>Don't log card resets when exporting.</li>
<li>Fix congrats screen not showing when learning cards were due soon.</li>
<li>Updated bundled lame and mpv on Windows and Mac builds.</li>
<li>Other fixes and improvements thanks to Henrik, Rumo, Abdo, Arthur, Guillem,
stayingpeachy, Daniel, khonkhortisan and Kerrick.</li>
</ul>
<p>For developers:</p>
<ul>
<li>JS libraries like jQuery have been updated (thanks to Henrik).</li>
<li>Add (untested) support for ARM64 Linux.</li>
<li>orjson is turned back into an optional requirement (though is still
recommended, as it's faster).</li>
<li>The sidebar code has been moved from from browser.py into sidebar.py, which
may break some add-ons.</li>
</ul>
<h3 id="changes-in-2138beta4"><a class="header" href="#changes-in-2138beta4">Changes in 2.1.38beta4</a></h3>
<p>Build 355e4cd5 / 2020-12-23.</p>
<p>If no issues are discovered, this will likely be released as 2.1.38 stable in a
few days.</p>
<ul>
<li>Reduce the default fade time in the review screen.</li>
<li>The ANGLE video driver can now be selected in the Preferences on Windows.</li>
<li>Fix some instances of sync indicator remaining on after sync.</li>
</ul>
<p>For developers:</p>
<ul>
<li>Protobuf binaries are now used to speed up the initial build.</li>
<li>Fix Windows build on Python 3.9 (but 3.8 is still recommended).</li>
</ul>
<h3 id="changes-in-2138beta3"><a class="header" href="#changes-in-2138beta3">Changes in 2.1.38beta3</a></h3>
<p>Build d600bd58 / 2020-12-21.</p>
<ul>
<li>All built-in Windows TTS voices should now be supported on recent Windows 10
releases (thanks to Ryan).</li>
<li>Work around --text-fg appearing in fields.</li>
<li>Record a short amount of extra time when stopping recording with the new
recording driver, and remove the qtrecorder option.</li>
<li>Fix link in about screen (thanks to Abdo).</li>
<li>Possible fix for sync button becoming blue without changes (thanks to Rumo).</li>
<li>Don't throw error when computer hostname is invalid.</li>
<li>Other minor changes (thanks to Henrik &amp; k12sh)</li>
</ul>
<h3 id="changes-in-2138beta2"><a class="header" href="#changes-in-2138beta2">Changes in 2.1.38beta2</a></h3>
<p>Build 38406862 / 2020-12-18.</p>
<ul>
<li>Add another approach for recording audio that should avoid the leading 300ms
silence that was in beta1.</li>
<li>You can now choose between recording drivers in the preferences screen, with
'qtrecorder' being similar to the beta1 approach, and 'pyaudio' being similar
to previous Anki versions. If you find some work better than others, please
let us know. No restart is required after changing the option and closing the
preferences screen.</li>
<li>Fix '1' being shown instead of the correct number in some Russian
translations.</li>
</ul>
<h3 id="changes-in-2138beta1"><a class="header" href="#changes-in-2138beta1">Changes in 2.1.38beta1</a></h3>
<p>Build 56ac71ff / 2020-12-16.</p>
<ul>
<li>Switch audio recording libraries. Please try recording audio on a card and let
us know if there are any issues.</li>
<li>Fix the Reposition tool in the Browse screen not following the sort order.</li>
<li>Fixed invisible characters when adding new card templates (thanks to Henrik).</li>
<li>Fixed duplicate check getting confused by non-breaking spaces (thanks to
abdo).</li>
</ul>
<p>For developers:</p>
<ul>
<li>Fixed Python code completion, and added some info to docs/development.md</li>
<li>./run now runs Anki with Python warnings enabled - PRs that fix any that come
up would be welcome (thanks cecini for the first!)</li>
<li>PyAudio is no longer required for recording.</li>
</ul>
<h3 id="changes-in-2137rc1"><a class="header" href="#changes-in-2137rc1">Changes in 2.1.37rc1</a></h3>
<p>Build fe4fda70 / 2020-12-10.</p>
<p>Will become the next stable release in a few days if no further issues are
found.</p>
<ul>
<li>Fix filtered decks not respecting sort order.</li>
<li>Fix automatic scrolling to the answer (thanks to Henrik).</li>
<li>Ease in the deck options now has a 131% minimum.</li>
</ul>
<h3 id="changes-in-2136beta5"><a class="header" href="#changes-in-2136beta5">Changes in 2.1.36beta5</a></h3>
<p>Build c505894b / 2020-12-07.</p>
<p>This is expected to be released as stable in a day or two without further
changes, if no issues are discovered.</p>
<ul>
<li>Support building with Python 3.9 on Mac/Linux.</li>
<li>Make it a bit easier to run Anki from source, and run it with optimizations.</li>
</ul>
<h3 id="changes-in-2136beta4"><a class="header" href="#changes-in-2136beta4">Changes in 2.1.36beta4</a></h3>
<p>Build 5313447c / 2020-11-30.</p>
<p>This is nearing a stable release, so if you encounter any issues please let us
know on the forums.</p>
<ul>
<li>The handling of wildcards and escape characters in search
<a href="https://docs.ankiweb.net/searching.html">has been reworked</a> to be more
consistent, thanks to Rumo.</li>
<li>Various fixes to translation handling, such as the translation of early
startup messages, thanks to Abdo.</li>
<li>Fixed some issues with adding/renaming decks (thanks to Cecini).</li>
<li>Fix duplicate search when sort field is not first field (thanks to Abdo).</li>
<li>Fix sync colour not updating after sync.</li>
<li>Thanks (as always) to people who contributed translations.</li>
<li>Other minor fixes.</li>
</ul>
<h3 id="changes-in-2136beta3"><a class="header" href="#changes-in-2136beta3">Changes in 2.1.36beta3</a></h3>
<p>Build c1d15a8e / 2020-11-18.</p>
<ul>
<li>MathJax has been updated to V3, thanks to Henrik. It should render faster than
before. Please report any issues you notice.</li>
<li>Anki's translation system has been updated. This should not have caused any
user-visible changes, but if you notice any regressions please let us know.</li>
<li>Fix issues with &quot;find duplicates&quot; (thanks to Abdo)</li>
</ul>
<p>For developers:</p>
<ul>
<li>Gettext is no longer required to build Anki, as all strings have been migrated
to Fluent.</li>
<li>Python wheels have been provided on the beta download site - you should be
able to install them with &quot;pip install /path/to/.whl&quot;. Please report any
issues you have with them.</li>
</ul>
<h3 id="changes-in-2136beta2"><a class="header" href="#changes-in-2136beta2">Changes in 2.1.36beta2</a></h3>
<p>Build e0550b60 / 2020-11-12.</p>
<p>The way Anki is built and packaged has been reworked for this release, which
should make developing Anki easier moving forward. These changes should be
mostly invisible to end users, but if you notice any problems introduced in this
beta, please let us know on the forums.</p>
<p>As part of these changes, the alternate Windows and Mac builds have been
discontinued. If you're still using a 32-bit OS or a macOS version below 10.13,
2.1.35 is the last version that will work on your setup.</p>
<p>For developers, please see
https://forums.ankiweb.net/t/changing-ankis-build-system-to-bazel/4737. Python
3.8 is now the minimum supported version, so feel free to go wild with the
walrus operator.</p>
<p>Other changes:</p>
<ul>
<li>Thanks to all the people who have contributed bugfixes and code/doc updates:
Abdo, Lukkea, Akshara, Kelciour, David, Henrik, Colin, Johan, Piotr, Andreas,
Arthur, Alan, RumovZ, Cecini, Soren, Krish, and ianki, in no particular order.
For the full list of changes, please see https://github.com/ankitects/anki/.
If I've missed someone, please let me know!</li>
<li>The main card area is now focused instead of the bottom area during review,
which allows using the keyboard to scroll (thanks to Henrik).</li>
<li>A separate mpv process is now used to play videos on Windows, which should
solve issues with playing getting stuck (thanks to Kelciour).</li>
<li>Fix error when switching to note type with fewer fields</li>
<li>Fix corrupt indexes when checking database.</li>
<li>Fix invalid utf8 in notes when checking database.</li>
<li>Fix invisible scrollbar in night mode + browser.</li>
</ul>
<h3 id="changes-in-2136beta1"><a class="header" href="#changes-in-2136beta1">Changes in 2.1.36beta1</a></h3>
<p>Build 53a984ba / 2020-10-02.</p>
<ul>
<li>Normal and night mode theming now uses CSS variables, making it easier to use
and override in add-ons.</li>
<li>Congrats screen, burying/suspending, filtered deck building/emptying, and card
reposition/reset have been reworked, but should (mostly) function as before.
Please report any issues you encounter.</li>
<li>When cards are rescheduled in the browse screen, a review entry log is now
created.</li>
<li>Various improvements, thanks hgiesel, cyphar, kaczmarj and Arthur.</li>
</ul>
<h3 id="changes-in-2135beta1"><a class="header" href="#changes-in-2135beta1">Changes in 2.1.35beta1</a></h3>
<p>Build 84dcaa86 / 2020-09-30.</p>
<ul>
<li>Fix a bug in Anki 2.1.29+ that caused excessive memory and CPU usage on
long-running operations that show a progress bar, such as importing.</li>
<li>Roll back Mac and Windows builds to Qt 5.14 again, as there are still issues
with 5.15.</li>
<li>Fix display issue in graphs on alternate Mac build.</li>
<li>Fix preview not updating on multiple selection (thanks to abdo).</li>
<li>Fix old content appearing when flagging immediately after typing.</li>
<li>Fix some handling of <code>*</code> in searches.</li>
<li>Sidebar now correctly escapes some characters (thanks to abdo).</li>
</ul>
<h3 id="changes-in-2134beta2"><a class="header" href="#changes-in-2134beta2">Changes in 2.1.34beta2</a></h3>
<p>Build 8af8f565 / 2020-09-22.</p>
<ul>
<li>Fix a bug in Anki 2.1.28+ where a newly created deck config would default to
an ease of 130%. When updating, Anki will automatically change any deck
configs with an ease of 130% back to 250%, and change any cards using those
deck configs with a low ease back to an ease of 250%. If you have deliberately
set an initial ease of 130%, please change it to 131% or greater prior to
upgrading, so that Anki leaves your settings alone. Users who updated from an
older Anki version and did not add new deck configurations should not be
affected. Thanks to Aleksa for discovering the issue.</li>
<li>Roll back most of the non-bugfix scheduling changes from the previous beta, so
that this can be released as stable after a couple of days of testing.</li>
</ul>
<h3 id="changes-in-2134beta1"><a class="header" href="#changes-in-2134beta1">Changes in 2.1.34beta1</a></h3>
<p>Build 133fe851 / 2020-09-21.</p>
<ul>
<li>Update the standard builds to the latest GUI toolkit version. Please report
any improvements or regressions you notice.</li>
<li>Dropped audio plays automatically again (thanks to abdo).</li>
<li>Revert to older sound playing behaviour to work around issues (thanks to
kelciour)</li>
<li>Various improvements, thanks hgiesel, cyphar, kaczmarj and Arthur.</li>
<li>Normal and night mode theming now uses CSS variables, making it easier to use
and override in add-ons.</li>
<li>Congrats screen, burying/suspending, filtered deck building/emptying, and card
reposition/reset have been reworked, but should (mostly) function as before.
Please report any issues you encounter.</li>
<li>When cards are rescheduled in the browse screen, a review entry log is now
created.</li>
<li>is:due now stops at now+learn ahead limit, instead of end of day.</li>
<li>Various bugfixes.</li>
</ul>
<h3 id="changes-in-2133beta2"><a class="header" href="#changes-in-2133beta2">Changes in 2.1.33beta2</a></h3>
<p>Build 4662a9fe / 2020-08-28.</p>
<ul>
<li>Fix cards not being unburied if leaving Anki open and the first action of a
new day is a sync.</li>
<li>Access More button in review screen with 'm' (thanks to ANH).</li>
<li>Audio no longer plays when dropped/pasted (thanks to ANH).</li>
<li>Fix next learn message in congrats screen.</li>
</ul>
<h3 id="changes-in-2133beta1"><a class="header" href="#changes-in-2133beta1">Changes in 2.1.33beta1</a></h3>
<p>Build 7bcec00e / 2020-08-26.</p>
<ul>
<li>Fix drag&amp;drop into existing content (thanks to ANH).</li>
<li>Fix text in export file selector (thanks to ANH).</li>
<li>Fix timeouts in full syncs and media syncs again.</li>
</ul>
<h3 id="changes-in-2131beta3"><a class="header" href="#changes-in-2131beta3">Changes in 2.1.31beta3</a></h3>
<p>Build 85d99f73 / 2020-08-21.</p>
<ul>
<li>Full syncs and media syncs now terminate more quickly when the connection
breaks.</li>
<li>Improve support for getting proxies from Windows registry.</li>
</ul>
<h3 id="changes-in-2131beta2"><a class="header" href="#changes-in-2131beta2">Changes in 2.1.31beta2</a></h3>
<p>Build 2b1bcda9 / 2020-08-21.</p>
<ul>
<li>Fix mpv failing to play audio after it's restarted, thanks to Kelciour.</li>
<li>Fix Find&amp;Replace window sizing.</li>
<li>Fix 'stale notetype' error after sync+add.</li>
<li>Code improvements from ANH, Evandro and Thomas.</li>
<li>Minor graph tweaks.</li>
</ul>
<h3 id="changes-in-2131beta1"><a class="header" href="#changes-in-2131beta1">Changes in 2.1.31beta1</a></h3>
<p>Build 680b5e4b / 2020-08-19.</p>
<ul>
<li>Show card counts in pie graph, and other minor graph tweaks.</li>
<li>Fix crash when dragging &amp; dropping, thanks to ANH25.</li>
<li>Fix sync error+lost review when undoing in v2 filtered deck with scheduling
off.</li>
<li>Close &quot;edit current&quot; when current card deleted.</li>
<li>Code improvements, thanks to Arthur, Evandro and Henrik.</li>
<li>Find&amp;replace completion is now case sensitive.</li>
<li>Fix crash when recovering notes with missing notetype.</li>
<li>Fix handling of nested legacy template directives.</li>
<li>Fix issues with bulk tag removal.</li>
<li>Remove embedded direction markers in RTL cloze deletions.</li>
<li>Strip nul characters from tags.</li>
</ul>
<h3 id="changes-in-2130beta3"><a class="header" href="#changes-in-2130beta3">Changes in 2.1.30beta3</a></h3>
<p>Build 83637199 / 2020-08-08.</p>
<ul>
<li>Standard Windows build tweaked to hopefully fix issues introduced by Windows
update.</li>
<li>Standard Mac build rolled back to Qt 5.14, to fix &quot;show windows in tabs&quot; not
working.</li>
<li>More fixes for syncing bad data from older clients.</li>
<li>Catch negative review times in DB check.</li>
</ul>
<h3 id="changes-in-2130beta2"><a class="header" href="#changes-in-2130beta2">Changes in 2.1.30beta2</a></h3>
<p>Build 818012e0 / 2eee4cb0 / 2020-08-05.</p>
<p>Update 2020-08-06: Windows build repackaged to fix failure to start.</p>
<ul>
<li>Add right axis to graphs.</li>
<li>Fix some young cards being shown as mature in reviews graph.</li>
<li>Fix negated conditonals being non-negated when renamed.</li>
<li>Fix automatic logout not working when auth failure occurs.</li>
<li>Fix 'add mobile class' not working properly.</li>
<li>Fix some syncing errors that could happen until Check Database was run.</li>
<li>Other graph tweaks/fixes.</li>
<li>Big thanks to Matt and phwoo who submitted a bunch of code improvements
recently.</li>
</ul>
<h3 id="changes-in-2130beta1"><a class="header" href="#changes-in-2130beta1">Changes in 2.1.30beta1</a></h3>
<p>Build 1353590a / 2020-07-31.</p>
<ul>
<li>Fix early reviews not appearing in review graph.</li>
<li>Fix hour graph problem in timezones west of UTC.</li>
<li>Card counts graph now always shows table.</li>
<li>Fix move into/out of filtered decks not syncing.</li>
<li>Handle multiple same-numbered clozes in cloze-only filter.</li>
<li>Fix deck list and graphs not including v2 scheduler cards with rescheduling
disabled.</li>
<li>Added night mode and mobile class toggles in card layout screen (thanks to
ANH25).</li>
<li>Code improvements (thanks to Matt, phwoo, Evandro and aplaice).</li>
<li>Refresh tag list after clearing empty tags.</li>
<li>Other minor fixes.</li>
</ul>
<h3 id="changes-in-2129beta4"><a class="header" href="#changes-in-2129beta4">Changes in 2.1.29beta4</a></h3>
<p>Build 88fee1b7 / 2020-07-27.</p>
<ul>
<li>Fix an issue introduced by the previous change to the future due graph.</li>
<li>Don't show an error when card contains an empty URL.</li>
</ul>
<h3 id="changes-in-2129beta3"><a class="header" href="#changes-in-2129beta3">Changes in 2.1.29beta3</a></h3>
<p>Build 15c9cd91 / 2020-07-26.</p>
<ul>
<li>Fix due reviews in filtered deck showing incorrectly in future due graph.</li>
<li>Another attempt at addressing the AltGr issue on Windows.</li>
</ul>
<h3 id="changes-in-2129beta2"><a class="header" href="#changes-in-2129beta2">Changes in 2.1.29beta2</a></h3>
<p>Build ca8265a6 / 61e8611b / 2020-07-24.</p>
<ul>
<li>Roll standard Windows build back to Qt 5.14.1 for now (fixes performance
problems)</li>
<li>Graphs now instruct user to use Check Database if data can't be read.</li>
<li>Future due graph now includes today's learning cards.</li>
<li>Fix preview not updating when editing text in the Browse screen.</li>
<li>Fix mpv taking time to start (thanks to Kelciour)</li>
<li>Code/build improvements (thanks to Evandro &amp; Matt).</li>
<li>Other minor tweaks.</li>
</ul>
<h3 id="changes-in-2129beta1"><a class="header" href="#changes-in-2129beta1">Changes in 2.1.29beta1</a></h3>
<p>Build 1b441f50 / 2020-07-21.</p>
<ul>
<li>Add cloze-only: template filter, which can be combined with TTS to speak only
the elided part.</li>
<li>Fix 1+ day learning cards not being included in future due graph.</li>
<li>Start media sync after full sync finishes.</li>
<li>Use right-to-left direction in webviews when using RTL interface language.</li>
<li>Support the terminal command that enables dark mode again.</li>
<li>Code tidy-ups (thanks to Arthur).</li>
<li>Close gracefully on SIGTERM.</li>
</ul>
<h3 id="changes-in-2128beta6"><a class="header" href="#changes-in-2128beta6">Changes in 2.1.28beta6</a></h3>
<p>Build 7d8818f8 / 2020-07-17.</p>
<p>This is a candidate for the next stable release.</p>
<ul>
<li>Add range selectors to button + hour graphs.</li>
<li>Make it easier for add-ons to modify the graphs (thanks to Aristotelis).</li>
<li>Code testing tidy-ups (thanks to Arthur).</li>
</ul>
<h3 id="changes-in-2128beta5"><a class="header" href="#changes-in-2128beta5">Changes in 2.1.28beta5</a></h3>
<p>Build 61017a2e / 2020-07-16.</p>
<ul>
<li>Minor tweaks to graph tooltips and axis labels.</li>
<li>Ctrl/cmd+number selects decks/note types in list (thanks to Alexander).</li>
<li>Translation updates (thanks as always to the volunteer translators).</li>
</ul>
<h3 id="changes-in-2128beta4"><a class="header" href="#changes-in-2128beta4">Changes in 2.1.28beta4</a></h3>
<p>Build 116aeead / 2020-07-13.</p>
<ul>
<li>More graph tweaks.</li>
<li>Fixed is:review not including relearning cards.</li>
<li>Scroll media log to bottom at start (thanks to kelciour)</li>
<li>Update some dependencies, and other minor changes.</li>
</ul>
<h3 id="changes-in-2128beta3"><a class="header" href="#changes-in-2128beta3">Changes in 2.1.28beta3</a></h3>
<p>Build 93425be8 / 2020-07-07.</p>
<ul>
<li>Fix add-on regression (thanks to Evandro).</li>
<li>Various graph tweaks.</li>
</ul>
<h3 id="changes-in-2128beta2"><a class="header" href="#changes-in-2128beta2">Changes in 2.1.28beta2</a></h3>
<p>Build cfc33815 / 2020-07-06.</p>
<ul>
<li>Various tweaks to the graphs.</li>
<li>Update local media server (thanks to Evandro).</li>
<li>Use Qt colour picker on Linux (thanks to Andreas).</li>
<li>Fix some add-ons being broken.</li>
<li>Other minor fixes.</li>
</ul>
<h3 id="changes-in-2128beta1"><a class="header" href="#changes-in-2128beta1">Changes in 2.1.28beta1</a></h3>
<p>Build 4d23a69e / 2020-07-01.</p>
<ul>
<li>The stats screen has been rewritten - feedback on the beta thread would be
appreciated.</li>
<li>The old stats are accessible by shift+clicking on Stats.</li>
<li>Add edited:x search for matching notes edited in last x days.</li>
<li>Improvements to mpv handling (thanks to Kelciour).</li>
<li>Windows build fix (thanks to Evandro).</li>
<li>Various other fixes, including contributions from BlueGreenMagick, Arthur,
neitrinoweb and kenden.</li>
</ul>
<h3 id="changes-in-2128alpha3"><a class="header" href="#changes-in-2128alpha3">Changes in 2.1.28alpha3</a></h3>
<p>Build f44597bb / 2020-06-09.</p>
<ul>
<li>The standard Mac build now uses Qt 5.15 - please report any regressions. The
file size is a bit larger than it needs to be, and may be improved in the
future.</li>
<li>The Linux build now uses Qt 5.15 - please report any regressions.</li>
<li>DB check now shows progress.</li>
<li>Fixed duplicate/empty field check.</li>
<li>Fixed audio being included in FrontSide.</li>
<li>Clearer error message on failed regex search.</li>
<li>Find &amp; Replace remembers input (thanks to Evandro).</li>
<li>Code improvements (thanks to BlueGreenMagick, Thomas and Andrew).</li>
<li>Support input.conf for mpv</li>
<li>Fixed '&amp;' being changed in image filenames in HTML editor.</li>
<li>Fixed exports getting broken by Windows carriage returns in note fields.</li>
<li>Miscellaneous other fixes.</li>
</ul>
<h3 id="changes-in-2128alpha2"><a class="header" href="#changes-in-2128alpha2">Changes in 2.1.28alpha2</a></h3>
<p>Build ebce044b / 2020-06-02.</p>
<p>Reworked collection syncing. Some warnings:</p>
<ul>
<li>While it has had some testing, please take frequent backups, and keep an eye
out for (and report) any problems.</li>
<li>The checking stage at the end of the sync may be slower than normal, as some
checks that are normally disabled have been re-enabled for safety.</li>
</ul>
<p>Sync changes:</p>
<ul>
<li>Normal syncs and media syncs can operate in parallel, speeding up startup and
shutdown.</li>
<li>Normal syncs no longer need to close open windows like the Browse screen, or
close &amp; re-open the collection.</li>
<li>Full syncs now show a progress bar.</li>
<li>Full syncs can now be cancelled, and both normal and full syncs cancel more
quickly.</li>
</ul>
<p>Other changes:</p>
<ul>
<li>Windows standard version has been updated to Qt 5.15.</li>
<li>Audio player on Windows has been switched back to mpv. Please report any
issues you have playing audio files/videos.</li>
<li>Fixed deck deletion, and allow &quot;deleting&quot; the default deck (it comes back
empty).</li>
<li>Fixed custom study not saving.</li>
<li>Card layout screen divider can now be adjusted (thanks to Evandro).</li>
<li>Fixed duplicate rendering in card layout screen (thanks to Evandro).</li>
<li>Fix for a previewing issue (thanks to Evandro).</li>
<li>Fixed off-by-one in field drag&amp;drop (thanks to BlueGreenMagick)</li>
<li>Other minor fixes.</li>
</ul>
<h3 id="changes-in-2128alpha1"><a class="header" href="#changes-in-2128alpha1">Changes in 2.1.28alpha1</a></h3>
<p>Build 97eadb78.</p>
<ul>
<li>
<p>Performance improvements to:</p>
<ul>
<li>Startup and shutdown (the first startup will be slow as your collection is
updated).</li>
<li>The Browse screen.</li>
<li>The deck list.</li>
<li>The note types screen.</li>
<li>The card templates screen.</li>
<li>The database check.</li>
</ul>
</li>
<li>
<p>Card generation changes:</p>
<ul>
<li>Card generation now supports negated conditionals, and a mix of required and
optional fields.</li>
<li>When adding/importing, if a normal note doesn't generate any cards, Anki
will now add a blank card 1 instead of refusing to add the note.</li>
<li>Please bear in mind that if you take advantage of these features, older Anki
clients may report the cards are blank, or try to clean them up when you use
the Empty Cards feature.</li>
<li>Cloze numbers over 499 are no longer supported.</li>
</ul>
</li>
<li>
<p>Card template screen:</p>
<ul>
<li>Changes are now accumulated, and can be saved or discarded when you close
the screen.</li>
<li>The front, back, and styling are no longer shown at the same time. You can
switch between them with ctrl+1/2/3 or cmd+1/2/3.</li>
<li>Added a search bar to search for text in the template or styling.</li>
<li>Added a dropdown to change the previewed cloze number.</li>
<li>Added a checkbox to toggle the filling of empty fields for preview.</li>
<li>You can now delete a card template even if some notes are only using that
template - they will be given a blank card 1 instead.</li>
</ul>
</li>
<li>
<p>Scheduling:</p>
<ul>
<li>The deck list no longer caps counts to 1000.</li>
<li>The overview and study screen no longer caps counts to 1000.</li>
<li>The deck list will no longer show a parent count higher than the limit set
on the parent.</li>
</ul>
</li>
<li>
<p>Empty cards screen:</p>
<ul>
<li>Notes will not be deleted by default.</li>
<li>Empty cards are grouped by note type.</li>
<li>Empty cards can be clicked on to reveal them in the browse screen.</li>
</ul>
</li>
<li>
<p>Database check:</p>
<ul>
<li>Notes with the wrong field count are now recovered instead of being deleted.</li>
<li>Notes with missing note types are now recovered instead of being deleted.</li>
<li>Notes with missing cards are now recovered instead of being deleted.</li>
</ul>
</li>
<li>
<p>Unicode normalization:</p>
<p>If you are studying rare CJK characters and wish to prevent them from being
converted into modern equivalents, the following in the debug console will
stop Anki from normalizing note text.</p>
<pre><code>mw.col.conf[&quot;normalize_note_text&quot;] = False
</code></pre>
</li>
</ul>
<p>Other changes:</p>
<ul>
<li>Fields screen now accumulates changes, which can be saved or discarded when
you close the screen.</li>
<li>Updated a few screens to show progress bars instead of hanging the UI.</li>
</ul>
<h3 id="changes-in-2124beta9"><a class="header" href="#changes-in-2124beta9">Changes in 2.1.24beta9</a></h3>
<p>Build 359b9f5c.</p>
<ul>
<li>You can use <code>w:something</code> to search on word boundaries, eg:
<ul>
<li><code>w:dog</code>
<br />
search for &quot;dog&quot; on a word boundary - will match &quot;dog&quot;, but not &quot;doggy&quot; or
&quot;underdog&quot;.</li>
<li><code>w:dog*</code>
<br />
will match &quot;dog&quot; and &quot;doggy&quot;, but not &quot;underdog&quot;.</li>
<li><code>w:*dog</code>
<br />
will match &quot;dog&quot; and &quot;underdog&quot;, but not &quot;doggy&quot;.</li>
</ul>
</li>
<li>Fixed clicking on links in add-on configuration documentation.</li>
</ul>
<h3 id="changes-in-2124beta8"><a class="header" href="#changes-in-2124beta8">Changes in 2.1.24beta8</a></h3>
<p>Build 683f664d.</p>
<ul>
<li>Fixed adding and removing deck option groups.</li>
</ul>
<h3 id="changes-in-2124beta7"><a class="header" href="#changes-in-2124beta7">Changes in 2.1.24beta7</a></h3>
<p>Build ec6c0f86.</p>
<ul>
<li>Move the scheduling options in the preferences to a separate tab, so options
fit on the screen even on devices with small screens.</li>
<li>Fix pauses caused by a regression in the previous beta.</li>
</ul>
<h3 id="changes-in-2124beta6"><a class="header" href="#changes-in-2124beta6">Changes in 2.1.24beta6</a></h3>
<p>Build 394f7c63.</p>
<p>This beta changes the macOS dark mode handling of the standard build:</p>
<ul>
<li>
<p>Anki now solely relies on the night mode setting in the preferences to decide
whether to show in light or dark mode. Some users wanted to run Anki in light
mode while keeping the rest of their system dark, and there were various
display problems when dark mode was changed after Anki started that couldn't
be easily worked around.</p>
</li>
<li>
<p>Users who only use dark mode, and preferred the native look of widgets in dark
mode, can achieve the previous appearance by running the following command in
the terminal:</p>
<pre><code>defaults write net.ankiweb.dtop NSRequiresAquaSystemAppearance -bool no
</code></pre>
<p>And the following in the debug console:</p>
<pre><code>mw.pm.meta[&quot;dark_mode_widgets&quot;] = True
</code></pre>
<p>This is hidden behind a debug console command because it requires the user
ensure their system is always set to the same light/dark mode as Anki.</p>
</li>
</ul>
<p>Other changes:</p>
<ul>
<li>The macOS standard build is built with a newer SDK. If you notice any
regressions, please let me know.</li>
<li>Fixed Anki closing after a full sync on collection load.</li>
<li>Fixed an error being shown when replaying audio.</li>
<li>Fixed filtered decks displaying an error in older Anki versions after
downgrading.</li>
<li>Fixed add-ons with multiple branches not updating properly.</li>
<li>Change the way cloze deletions in RTL fields are handled, which should address
some corner cases.</li>
<li>Fix editor buttons not being highlighted (thanks to Simone).</li>
<li>Improve invalid HTML/JS error messages (thanks to Evandro).</li>
<li>Fixed a useless log file being created when exporting.</li>
<li>Allow selecting add-on config help text (thanks to ijgnd).</li>
</ul>
<h3 id="changes-in-2124beta5"><a class="header" href="#changes-in-2124beta5">Changes in 2.1.24beta5</a></h3>
<p>Build 0c5f22f4.</p>
<ul>
<li>New load/save handling for note types and decks. This should be transparent;
if you notice any issues, please let me know.</li>
<li>Avoid scrolling if the selected browser row is still visible after an
operation.</li>
<li>Handle renamed cloze fields when previewing (thanks to BlueGreenMagick).</li>
<li>Fix a case where decks could be sorted incorrectly (thanks to Arthur).</li>
<li>Fix some bugs introduced by the recent previewing changes.</li>
<li>Allow dragging fields to change their position (thanks to BlueGreenMagick).</li>
<li>Add socks support to media sync.</li>
<li>Improvements to debug console (thanks to BlueGreenMagick).</li>
<li>Build improvements (thanks to Evandro).</li>
<li>Fix deck option changes not marking collection as changed.</li>
<li>Fix deck_browser_did_render hook.</li>
<li>Fix interface getting stuck when a corrupt collection was encountered.</li>
</ul>
<h3 id="changes-in-2124beta4"><a class="header" href="#changes-in-2124beta4">Changes in 2.1.24beta4</a></h3>
<p>Build 16ab351b.</p>
<ul>
<li>Updated tag handling:
<ul>
<li>non-wildcard searches now do full unicode case folding (eg 'tag:masse'
matches 'Maße').</li>
<li>wildcard searches do simple unicode case folding.</li>
<li>tag list in browse screen now uses unicode case folding.</li>
</ul>
</li>
<li>Fix 'is:due' search not combining with other searches properly.</li>
<li>Fix searches for things like deck:current not reflecting current state.</li>
<li>Fix duplicate searches.</li>
<li>Be more tolerant of deck IDs stored in the wrong format by older Anki
versions.</li>
<li>Fix an error that could occur when performing an operation in the browse
screen then immediately closing it.</li>
<li>Clean up the previewing code (thanks to Arthur). Add-ons that modify the
preview screen will need updating.</li>
<li>Prepare for uploading releases to PyPI (thanks to Evandro).</li>
<li>Improve the handling of deck deletions (thanks to Arthur).</li>
<li>Avoid decimal place in steps lists where possible.</li>
<li>Add a compatibility shim for named args to avoid breaking some add-ons.</li>
<li>Updated config handling. While there should be no immediate breakages, if
you're an add-on author and store lists or dicts in Anki's config, please see
676f4e74a.</li>
</ul>
<h3 id="changes-in-2124beta3"><a class="header" href="#changes-in-2124beta3">Changes in 2.1.24beta3</a></h3>
<p>Build d3964603.</p>
<p>Updated the way cards and deck options are loaded and saved. Most add-ons should
not be affected, but a few will need minor tweaks. If you run into any issues
and can reproduce them when add-ons are disabled, please let me know.</p>
<p>Other changes:</p>
<ul>
<li>Media syncs no longer take time to abort.</li>
<li>Fixed media sync waiting forever when connection dropped.</li>
<li>Fixed an issue where regular syncs could fail to end.</li>
<li>Fixed current card sometimes not being centered when searching.</li>
<li>Don't force a full sync when DB check finds cards with a high due number.</li>
<li>A tweak which should fix some broken add-ons from preventing the collection
from being loaded.</li>
<li>GitHub now checks Windows and Mac builds as well (thanks to Evandro).</li>
<li>More hooks (thanks to Arthur).</li>
<li>Fix tag searches in custom study (thanks to zjosua).</li>
<li>Don't throw an error when user has an embedded null in a note field.</li>
<li>Left-align tags in the browser.</li>
<li>Ignore .DS_Store files in the media trash folder.</li>
<li>Remove the check for ':' in DB queries.</li>
</ul>
<h3 id="changes-in-2124beta2"><a class="header" href="#changes-in-2124beta2">Changes in 2.1.24beta2</a></h3>
<p>Build b1a8107a.</p>
<p>Please see beta 1 for most of the changes.</p>
<ul>
<li>The media check will now fix file references in fields that broke because a
filename was shortened as part of a sync.</li>
<li>Fixed error when reviewing (thanks to zjosua).</li>
<li>Fixed reverse sort order for some browser columns.</li>
<li>Fixed the UI displaying badly when macOS dark mode changes while Anki is
running.</li>
<li>Don't show a popup when a network error occurs while syncing media.</li>
<li>Fixed the collection_did_load add-on hook.</li>
<li>Fixed searches for &quot;(something )&quot; with a trailing space not working.</li>
<li>Fixed the wrong language shown in the preferences screen for some languages.</li>
</ul>
<h3 id="changes-in-2124beta1"><a class="header" href="#changes-in-2124beta1">Changes in 2.1.24beta1</a></h3>
<p>Build 9dda5cf6.</p>
<p>2.1.24 focuses on changes to the database layer and searching code.</p>
<p>Searching:</p>
<ul>
<li>You can now use <code>re:something</code> to search via regular expression, eg:
<ul>
<li><code>re:\bdog\b</code> will search for the word 'dog'. It has a word boundary
character (<code>\b</code>) at the start and end, so it will match 'a dog', but not 'a
doggy'.</li>
<li><code>front:re:t+1</code> would match &quot;t1&quot;, &quot;tt1&quot; and so on in the Front field</li>
<li>When searching by regex, unicode case folding is used, so searching for
<code>re:über</code> will show a card that has &quot;Über&quot; on it.</li>
</ul>
</li>
<li><code>nc:something</code> (short for &quot;no combining&quot;) can be used to search while ignoring
accents, eg <code>nc:uber</code> will match both &quot;über&quot; and &quot;Über&quot;. This behaves the same
way as the &quot;Ignore Accents&quot; add-on, but is about 16x faster.</li>
<li>You can now sort on the deck, card template, note type and tags columns.</li>
<li>You can now use wildcards when limiting the search to a field, eg
<code>field*:something</code>.</li>
<li>You can now use wildcards when searching for a card template or note type by
name.</li>
<li><code>rated:x</code> searches are now capped to a year instead of a month.</li>
<li>You can now escaped double-quotes in a search - eg <code>&quot;foo\&quot;bar&quot;</code></li>
<li>Single-quote searches are no longer supported.</li>
<li>A version of Advanced Browser that works with this beta has been made
available
<a href="https://github.com/ankitects/advanced-browser/releases/tag/2.1.24-fixes">here</a>.
Not everything has been tested, and sorting on some fields will not currently
work properly.</li>
<li>Because the searching code has been rewritten, add-ons that modify the search
code will need to be updated to support 2.1.24. Unfortunately it is no longer
possible to override the Finder class - add-ons will need to use the new hooks
in the browser screen to either rewrite the search text, or perform their own
lookups instead.</li>
</ul>
<p>Database changes (mainly of interest to add-on developers):</p>
<ul>
<li>Anki now uses Rust's sqlite libraries instead of Python's.</li>
<li>The 'db' object on the collection retains most of the same API as before,
minimizing the amount of immediate code changes that are required.</li>
<li>Some less-used features like named sqlite bindings (&quot;where column = :foo&quot;) and
custom sql functions are no longer supported.</li>
<li>The old database code remains in db.py, and add-ons can continue to use it for
accessing their own databases.</li>
<li>The database is now behind a mutex, and can be safely accessed from a
background thread.</li>
<li>Various screens like the database check have been updated to run on a
background thread, so they no longer lock up the UI while they're running.</li>
<li>The database progress handler has been removed. Anki previous had sqlite call
back into Python periodically during long-running DB operations so it could
drain the UI queue, but this would vary in choppyness depending on the type of
DB operation being performed, and it was the cause of some crashes in the
past. Add-ons that perform long-running operations should instead use
mw.taskman.run_in_background() or their own threading solution moving forward.</li>
</ul>
<p>Other changes:</p>
<ul>
<li>Anki will now wait for a media sync to complete or be aborted before closing
the collection.</li>
<li>Fixed progress dialogs failing to appear in a timely manner.</li>
<li>Allow the type answer arrow to be styled (thanks to Evandro).</li>
<li>More hooks (thanks to Arthur).</li>
</ul>
<p>A lot has changed in this beta, so some issues may have slipped through the
cracks. If you run into any problems, please let me know.</p>
<h3 id="changes-in-2122beta2"><a class="header" href="#changes-in-2122beta2">Changes in 2.1.22beta2</a></h3>
<p>Build 0ecc189a.</p>
<ul>
<li>Fixed problems playing audio on Windows. Users using the gtts add-on will need
to update it.</li>
<li>Clear the audio queue when moving between cards with autoplay off.</li>
<li>Fixed play icons not appearing in browser preview when autoplay off.</li>
<li>Restored grey styling of zeros in the deck list that got lost in the night
mode changes.</li>
<li>Fixed an error shown when running in Spanish.</li>
<li>Fixed fields containing a filename with non-Latin text from being corrupted
when editing HTML (thanks to Evandro).</li>
<li>Support for validating add-on config schemas (thanks to Arthur).</li>
<li>Fixed a change that broke some add-ons.</li>
<li>Fixed the wrong language being selected in the preferences screen.</li>
<li>Removed the 'too many decks' message in the deck list screen.</li>
<li>Possible fix for issue playing audio from flash drive.</li>
<li>Fixed Anki getting stuck when importing an invalid file.</li>
</ul>
<h3 id="changes-in-2122beta1"><a class="header" href="#changes-in-2122beta1">Changes in 2.1.22beta1</a></h3>
<p>Build 131d37dc.</p>
<p>Please use File&gt;Export to back up your collection with media before trying this
beta. While big problems are unlikely, a backup is always a good thing to have.</p>
<ul>
<li>All the changes from 2.1.21beta1 to 3</li>
<li>The new timezone handling is now exposed as an option in the preferences
screen. Please avoid using this if you use AnkiDroid:
https://anki.tenderapp.com/kb/anki-ecosystem/timezone-handling-changes</li>
<li>Instead of automatically clearing the media trash after 7 days, the media
check screen now displays how many files are in the trash folder, and allows
you to either empty the trash, or restore it back into the media folder.</li>
<li>Fixed repetitive sync errors when long filenames in media folder and media
check not run.</li>
<li>More code improvements (thanks to Alan)</li>
<li>More add-on hooks (thanks to Arthur and Glutanimate)</li>
<li>More Windows build improvements (thanks to Evandro)</li>
<li>Rotate log files.</li>
<li>Ignore http(s) links when checking media.</li>
<li>Fix a resource leak introduced in an earlier beta.</li>
<li>Fix inversion of iOS drawings in night mode.</li>
</ul>
<h3 id="changes-in-2121beta4"><a class="header" href="#changes-in-2121beta4">Changes in 2.1.21beta4</a></h3>
<p>Build f1734a47.</p>
<p>This has been released as 2.1.21 stable without the below changes - please see
the 2.1.21 change notes.</p>
<h3 id="changes-in-2121beta3"><a class="header" href="#changes-in-2121beta3">Changes in 2.1.21beta3</a></h3>
<p>Build 8960d12a.</p>
<ul>
<li>Media syncing now logs to collection2.log in your profile folder. If you
experience any problems with syncing, please attach your log in a support
ticket and describe the problem (giving an example filename) so I can
investigate.</li>
<li>Fix time spans over 12 months not being displayed in years.</li>
<li>Files deleted via the media check no longer trigger a rescan on next sync.</li>
<li>Fix the standard Mac build not displaying properly when dark mode active, and
updated the docs to explain how you can force light mode in Anki while system
dark mode is active.</li>
<li>Fix an oversight that was breaking some add-ons unnecessarily.</li>
<li>More translation work.</li>
<li>More type hints in the code (thanks to Alan).</li>
<li>Improvements for building on Windows (thanks to Evandro).</li>
<li>Support '/' separator in add-on web paths on Windows (thanks to
BlueGreenMagick)</li>
<li>Fix tags that are in the wrong encoding as part of the DB check.</li>
<li>Display a more helpful warning when mpv/mplayer not installed.</li>
</ul>
<h3 id="changes-in-2121beta2"><a class="header" href="#changes-in-2121beta2">Changes in 2.1.21beta2</a></h3>
<p>Build 65ec9d19.</p>
<ul>
<li>More work on the handling of translations, including tweaks to the way the
answer buttons and the review history screen show intervals.</li>
<li>You can now export .apkg files with the V2 scheduler enabled.</li>
<li>Show next learning card due time, and count for today</li>
<li>Add-on hook improvements, thanks to Glutanimate and Arthur.</li>
<li>Hide the default deck in more cases (thanks to Arthur).</li>
<li>Some improvements to the build process (thanks to Evandro).</li>
<li>Fixed negative number in &quot;add-on incompatible&quot; message.</li>
<li>Fixed field contents added by old add-ons like Japanese Support not appearing.</li>
<li>Fixed card info screen not appearing.</li>
<li>Fixed an error message when using very small learning steps.</li>
<li>Add &quot;New #&quot; prefix to the due column for new cards.</li>
<li>Add back missing fcntl for add-ons.</li>
<li>Fix a race condition in the audio playing code.</li>
<li>Fixed {{Deck}} showing the filtered deck name instead of the original deck.</li>
<li>Fixed LaTeX in cloze deletions not being rendered by the media check.</li>
<li>Cards in night mode now default to dark grey instead of black.</li>
<li>Fix issue with macOS's dark mode in the alternate Mac build.</li>
<li>Don't allow scaling of the UI below 100%, as it doesn't work properly.</li>
<li>Fixed Anki not starting on Windows installs that were lacking TTS support.</li>
<li>Interrupt current audio even if autoplay is disabled.</li>
</ul>
<h3 id="changes-in-2121beta1"><a class="header" href="#changes-in-2121beta1">Changes in 2.1.21beta1</a></h3>
<p>Build 683b7983.</p>
<p>Media syncing improvements:</p>
<ul>
<li>Media syncing now happens in the background, so you can continue using Anki
while the media sync completes.</li>
<li>Aside from syncing at open and close, Anki will sync any media changes every
15-20 minutes.</li>
<li>You can click on the sync button while the spinner is active to monitor
progress.</li>
<li>Long filenames and problematic characters should be handled smoothly now,
instead of causing syncing errors.</li>
<li>Anki should no longer sometimes forget to download files when a media sync
fails due to network errors.</li>
<li>When media files are added within Anki, Anki now marks them in the database
immediately, which can make things faster for people with slower disks if they
are not modifying the media folder externally.</li>
</ul>
<p>Media check improvements:</p>
<ul>
<li>The Check Media function now shows progress, and can be interrupted.</li>
<li>There is now a separate button to generate missing LaTeX.</li>
<li>If LaTeX fails to build, the problem card will be revealed in the browse
screen.</li>
<li>When Anki finds files that are too long or would cause errors on some
operating systems, it will automatically rename them and update your notes to
point to the new filename.</li>
</ul>
<p>Both media sync and the media check now place deleted files in a media.trash
folder inside your profile, instead of placing the files in the system trash.
Any files that have been sitting in that folder for a week or more will be
deleted permanently when you next run a media check.</p>
<p>Other changes:</p>
<ul>
<li>Updates to the translation infrastructure:</li>
</ul>
<pre><code>The upcoming 2.1.21 beta is introducing a new way to translate strings, and in order to support it, the translations website will be moving again.

The new system uses Fluent (https://projectfluent.org/) instead of gettext. This has a number of advantages:

Separate identifiers are used for each string instead the English text, which means the English text can be improved without breaking existing translations in other languages.
It is easier to add comments to the translation files to make things clearer for translators.
Plural support is more flexible, and translators can add different plural forms even if the original English text doesn't use separate single/plural forms.
Translations can be more easily split up into multiple files.
Only a small number of strings are currently using Fluent, and most of the text in Anki is still using gettext. The plan is to gradually move more strings over to Fluent over time.

Because Crowdin does not support Fluent, I've set up a separate translations site using Mozilla Pontoon. Both the new Fluent strings and the old gettext strings are available. You can view it in read-only mode by visiting https://i18n.ankiweb.net
</code></pre>
<ul>
<li>Improvements to the readability of the scheduling code (thanks to Arthur)</li>
<li>More hooks for add-on authors (thanks to Arthur &amp; Aristotelis)</li>
</ul>
<h3 id="changes-in-2120beta10"><a class="header" href="#changes-in-2120beta10">Changes in 2.1.20beta10</a></h3>
<p>Build d0284f75.</p>
<p>For a full list of changes since 2.1.19, please see
https://apps.ankiweb.net/docs/changes.html</p>
<ul>
<li>Added the ability to export selected notes from the Browse screen, thanks to
Arthur.</li>
<li>Don't filter em/strong tags when pasting.</li>
<li>Fix rendering of question/answer column in browse screen.</li>
<li>Clearer error when conditional replacement closing tags are switched.</li>
<li>Show whether template errors occurred on the front or back template.</li>
<li>Drawings done in AnkiMobile now appear correctly in night mode.</li>
<li>Work around HTML editor sometimes failing to appear on macOS.</li>
<li>Fix error when double-clicking the open profile button.</li>
<li>Constrain image width in editor to the field width.</li>
<li>Tweaks to replay audio button alignment/outline.</li>
</ul>
<h3 id="changes-in-2120beta9"><a class="header" href="#changes-in-2120beta9">Changes in 2.1.20beta9</a></h3>
<p>Build 1fbd925f.</p>
<ul>
<li>Standard Windows and Linux builds updated to latest Qt.</li>
<li>More legible colours in the stats screens in night mode.</li>
</ul>
<h3 id="changes-in-2120beta8"><a class="header" href="#changes-in-2120beta8">Changes in 2.1.20beta8</a></h3>
<p>Build 5d91580c.</p>
<ul>
<li>Emptying a filtered deck in the V2 scheduler no longer unsuspends suspended
cards inside it.</li>
<li>Added an option in the preferences to not interrupt the currently playing
audio when answering.</li>
<li>In night mode, the scrollbar style is now consistent in and out of webviews.</li>
<li>Lighter buttons and scrollbars in night mode.</li>
<li>Fix the white lines showing on macOS dark mode in the browse screen.</li>
<li>Fix some misaligned dialogs in night mode.</li>
<li>Fix building from a .tar.gz file.</li>
</ul>
<h3 id="changes-in-2120beta7"><a class="header" href="#changes-in-2120beta7">Changes in 2.1.20beta7</a></h3>
<p>Build 77912aa2/c70badcd/a4764e2a.</p>
<ul>
<li>Foreground and background colours in text are now ignored when pasting in
night mode.</li>
<li>On macOS, the system theme will be used when dark mode is active.</li>
<li>Qt has been downgraded to 5.13 on macOS to facilitate the above.</li>
<li>The audio replay buttons are smaller by default, and can be styled using fill
and stroke on <code>.replay-button svg [circle|path]</code>.</li>
<li>Night mode now also used .night_mode - if you notice any problems with this
please let me know.</li>
<li>Disabled elastic scrolling in webviews to work around a Qt bug.</li>
<li>Progress dialogs no longer pop up immediately.</li>
<li>Minor night mode tweaks.</li>
</ul>
<h3 id="changes-in-2120beta6"><a class="header" href="#changes-in-2120beta6">Changes in 2.1.20beta6</a></h3>
<p>Build 23f13a31.</p>
<ul>
<li>TTS tags now accept a 'speed=1.0' option to control voice speed.</li>
<li>Adding {{tts-voices:}} to your template will show all available voices.</li>
<li>Replay audio buttons now clickable in card layout and preview screens.</li>
<li>Fix autoplay of audio in the preview screen.</li>
<li>Fix Anki filtering spaces out of pasted sound files.</li>
<li>Fix add-ons being marked as incompatible when they weren't.</li>
<li>Handle AnkiWeb's new support for multiple add-on versions.</li>
</ul>
<h3 id="changes-in-2120beta5"><a class="header" href="#changes-in-2120beta5">Changes in 2.1.20beta5</a></h3>
<p>Build d428b3b4.</p>
<ul>
<li>Fix issues loading mpv on Mac/Linux.</li>
<li>Replay buttons now appear in {{FrontSide}}.</li>
<li>Replay buttons are shown in card layout and preview screens, but are not yet
clickable.</li>
<li>More changes to the card display code, which will break more add-ons I'm
afraid.</li>
<li>The template hooks have been updated - please see
https://github.com/ankitects/anki-addons/commits/master for required changes.</li>
<li>A few colour fixes for night mode.</li>
<li>A change from Arthur that fixes one issue that was breaking add-ons.</li>
<li>Invert LaTeX in night mode (thanks to zjosua).</li>
<li>Support specifying min/max versions in .ankiaddon files.</li>
</ul>
<h3 id="changes-in-2120beta4"><a class="header" href="#changes-in-2120beta4">Changes in 2.1.20beta4</a></h3>
<p>Build 98041059.</p>
<ul>
<li>The night mode option now turns the interface dark as well. Please report any
areas that don't display properly.</li>
<li>Fix mplayer window popping up on Windows.</li>
<li>Alter the way negated conditionals are handled in card generation.</li>
</ul>
<h3 id="changes-in-2120beta3"><a class="header" href="#changes-in-2120beta3">Changes in 2.1.20beta3</a></h3>
<p>Build 95b497cc.</p>
<ul>
<li>You can now use <code>{{tts en_US:Field}}</code> on your card templates to use the text
to speech support built into Windows and macOS, changing the language code as
necessary.</li>
<li>You can specify the voices you'd prefer - the first available one will be
used. Eg. <code>{{tts ja_JP voices=Apple_Otoya,Microsoft_Haruka:Field}}</code>. The
voices you specify must match the language.</li>
<li>In addition to the built in TTS, there is an example add-on that uses gTTS
available here: https://ankiweb.net/shared/info/391644525</li>
<li>To see all available voices, use the following in the debug console:</li>
</ul>
<pre><code class="language-python">for p in aqt.sound.av_player.players:
  if v := getattr(p, 'get_available_voices', None): pp(v())
</code></pre>
<ul>
<li>Audio buttons are now shown on the card, and can be turned off in the
preferences. They will show for both regular audio and text to speech.</li>
<li>Added shortcut keys in the review screen to pause and jump forward/backward 5
seconds.</li>
<li>Anki now starts a new copy of mplayer for each audio file on Windows, which
avoids the need to create temporary files. If you notice any problems related
to this, please let me know.</li>
<li>Add-ons that modified the audio code may break with this update.</li>
<li>For add-on authors, some more examples using the new hook system are available
on the following page, including ported versions of the clickable tags and
additional card fields add-ons:
https://github.com/ankitects/anki-addons/tree/master/demos</li>
</ul>
<h3 id="changes-in-2120beta2"><a class="header" href="#changes-in-2120beta2">Changes in 2.1.20beta2</a></h3>
<p>Build c9a46268.</p>
<ul>
<li>Anki will now check for add-on updates once a day.</li>
<li>Disabled add-ons are now included in the check as well.</li>
<li>If a user attempts to install an add-on that doesn't support the version
they're on, Anki will now prevent them from doing so.</li>
<li>The 'max supported version' that add-on authors can specify in AnkiWeb is now
used to prevent users from downloading add-ons that won't work on their Anki
version, and to disable add-ons when they update to a new version.</li>
<li>Fix incorrect delay being logged when Hard is used on the first learning step
in the V2 scheduler.</li>
<li>The editor no longer modifies percent-escaped text outside of image tags.</li>
<li>Fix an extra linebreak being left in a field when an image is attached to an
empty field.</li>
</ul>
<h3 id="changes-in-2120beta1"><a class="header" href="#changes-in-2120beta1">Changes in 2.1.20beta1</a></h3>
<p>Build fa564772.</p>
<ul>
<li>Changes to the way cards are rendered that will break some add-ons:</li>
</ul>
<pre><code>The card template rendering process in Anki 2.1.20 has changed significantly under the hood, and most of the code that was in the anki/templates folder has gone away. Add-ons that were relying on hooks to modify the card rendering should continue to function, but add-ons that were using or monkey patching methods in the templates module will break, as those methods no longer exist.

I have looked through the add-ons on AnkiWeb that modify the card template, and believe most of them should be able to accomplish what they were doing before by using the new card_did_render and/or field_filter hooks. Examples of how each of them can be used are available here:

https://github.com/ankitects/anki-addons/blob/master/demos/

For add-ons that were using the furigana/hint field modifiers, they are available for copying in the template_legacy.py file.

If the hooks are insufficient for what your add-on is doing, please let me know within the next few weeks. If you're an end user and an add-on you use has broken, please let the add-on author know of this post.

In terms of user-visible changes:

The limit of 100 replacements on a template has been dropped.
The new approach allow add-ons to add fields without 'unknown field' messages appearing on mobile devices (once they've been updated)
Fields with a ':' character are no longer allowed. If you have a ':' in your fields, you can open and close the Cards screen to automatically remove the colon.
Templates that reference a field that doesn't exist will now only show an error, instead of partially rendering.
{{field}} references are ignored inside fields, so there is no risk of LaTeX/MathJax being interpreted as a field reference.
The &lt;% %&gt; alternate syntax is deprecated, as it is no longer necessary due to the above change.
Clearer errors when the user forgets to close a {{field}} reference, or mismatches open and close conditionals.
</code></pre>
<ul>
<li>A new hook system for add-ons:</li>
</ul>
<pre><code>Anki 2.1.20 introduces a new hook system that allows for better code completion and type checking than the old system. For a short explanation and link to some sample add-ons, please see https://apps.ankiweb.net/docs/addons.html#new-hooks

Add-ons using the old hooks should continue to work, as the new hooks will automatically call the old hooks in most cases, and a few runHook/runFilter calls have been left in the codebase in the places where the new hooks differ significantly from the old ones.

There are a bunch of hooks that previously were called with no arguments, such as when a new deck is created. The new hooks will tend to pass the newly created item into the callback, but will not do so for the legacy hooks, to avoid breaking old code.

If anyone has feedback on the naming or the arguments of the new hooks, please let me know during the beta testing period, so they can be changed prior to add-on authors relying on them.

To go along with these changes, the policy on adding new hooks has also changed. In the past, Anki's add-on documentation suggested hooks were best left for code paths that multiple add-ons wanted to extend, but this resulted in an over-reliance on monkey patching, and has made things fragile. The add-on documentation has been updated to encourage add-on authors to submit pull requests for any hooks they need, and the hope is that the bulk of add-ons can move away from monkey patching in the future.
</code></pre>
<ul>
<li>Tweaks to the 'tag updated notes' feature (thanks to Erez)</li>
<li>Fix cards being sorted in wrong order when added after the note was created
(thanks to Arthur)</li>
</ul>
<h3 id="changes-in-2117beta8"><a class="header" href="#changes-in-2117beta8">Changes in 2.1.17beta8</a></h3>
<p>Build f4fb7319.</p>
<ul>
<li>Minimum Python version is now 3.7.</li>
<li>Updated the way templates are rendered. If you notice any problems or messages
printed to the console, please post on the support site.</li>
<li>Double-clicking on .ankiaddon files should now work on Mac and Windows as
well.</li>
<li>Bug fix for tag updated notes feature (thanks to Erez).</li>
</ul>
<h3 id="changes-in-2117beta7"><a class="header" href="#changes-in-2117beta7">Changes in 2.1.17beta7</a></h3>
<p>Build a4d38d65.</p>
<ul>
<li>Added an option to tag updated notes when importing (thanks to Erez).</li>
<li>Install add-ons by double clicking on their files (thanks to Glutanimate).
Currently only on Linux; support for Windows/Mac will be added soon.</li>
<li>The alternate Windows build now uses Python 3.8/Qt 5.12.</li>
<li>The alternate Mac build now uses Python 3.8.</li>
<li>The alternate Linux build has been dropped.</li>
</ul>
<p>A bunch of behind-the-scenes changes to the code in this release. If you notice
any regressions, please post on the beta testing thread.</p>
<h3 id="changes-in-2117beta6"><a class="header" href="#changes-in-2117beta6">Changes in 2.1.17beta6</a></h3>
<p>Build 4cead7ef.</p>
<ul>
<li>Added a beta label to the experimental scheduler, as a timezone corner case
needs to be addressed before general release.</li>
<li>Fixed sidebar background on Windows 10.</li>
<li>Fixed building from source on 32 bit Linux.</li>
<li>Fixed alternate template syntax not being recognized.</li>
<li>Automatically remove ':' from field names when opening the card templates
screen, as it conflicts with the template syntax.</li>
</ul>
<h3 id="changes-in-2117beta5"><a class="header" href="#changes-in-2117beta5">Changes in 2.1.17beta5</a></h3>
<p>Build 518cc442.</p>
<ul>
<li>Changing large note types is significantly faster.</li>
<li>Fix a bug that was preventing new profiles from being created.</li>
<li>Fix a bug in the handling of MathJax+Cloze (thanks to Michal).</li>
<li>Fix missing border when the user has modified the interface scale.</li>
</ul>
<h3 id="changes-in-2117beta4"><a class="header" href="#changes-in-2117beta4">Changes in 2.1.17beta4</a></h3>
<p>Build bfcc8379.</p>
<p>The standard Mac and Linux builds have now been updated to the new toolkit as
well - please report any regressions.</p>
<h3 id="changes-in-2117beta3"><a class="header" href="#changes-in-2117beta3">Changes in 2.1.17beta3</a></h3>
<p>Build da942617.</p>
<p>Another Windows-only build.</p>
<ul>
<li>Improved the performance of the browse screen's sidebar.</li>
<li>If you use any add-ons that alter the sidebar, you will need to disable them
prior to upgrading, as add-on authors will need to modify their code to work
with the new implementation.</li>
<li>Added an option in the preferences screen to adjust the UI size.</li>
<li>Fixed a regression in the way duplicate deck names were handled.</li>
</ul>
<h3 id="changes-in-2117beta2"><a class="header" href="#changes-in-2117beta2">Changes in 2.1.17beta2</a></h3>
<p>Build ff6b58c2.</p>
<p>A Windows-only build, built with the latest toolkit version. Please report any
improvements or regressions.</p>
<p>If you've previously customized the DPI/Scaling as described on
https://apps.ankiweb.net/docs/knownissues21.html#text-size, please try running
the beta without the customizations and report how you go.</p>
<p>In beta 2:</p>
<ul>
<li>Alter the way DPI scaling is handled.</li>
<li>Remove help button from some Window titles.</li>
<li>Alter a change made in .16 that could break some editor add-ons.</li>
</ul>
<h3 id="changes-in-2117beta1"><a class="header" href="#changes-in-2117beta1">Changes in 2.1.17beta1</a></h3>
<p>Build 81bdd860.</p>
<p>A Windows-only build, built with the latest toolkit version. Please report any
improvements or regressions.</p>
<h3 id="changes-in-2116beta4"><a class="header" href="#changes-in-2116beta4">Changes in 2.1.16beta4</a></h3>
<p>Build 4bc33e2f.</p>
<ul>
<li>Syncing should work properly now when you change timezones without visiting
AnkiWeb.</li>
<li>Ensure learning cards in filtered decks with 'order due' show in template
order.</li>
</ul>
<h3 id="changes-in-2116beta3"><a class="header" href="#changes-in-2116beta3">Changes in 2.1.16beta3</a></h3>
<p>Build bb62a3c1.</p>
<ul>
<li>Remove the 'experimental' label from the new scheduler.</li>
<li>New installs default to the new scheduler.</li>
<li>You can now import and export decks with scheduling enabled in the new
scheduler.</li>
<li>Fix bold/italics/underline pasting that broke in the last beta.</li>
<li>Hide empty Default deck in deck picker (thanks to Arthur).</li>
<li>Add an extra day to the interval when using Easy on a relearning card.</li>
<li>Preserve surrounding styling when making cloze deletions.</li>
</ul>
<h3 id="changes-in-2116beta2"><a class="header" href="#changes-in-2116beta2">Changes in 2.1.16beta2</a></h3>
<p>Build bceb4feb.</p>
<ul>
<li>Pasting now includes formatting by default.</li>
<li>Preserve foreground/background color when pasting.</li>
<li>Preserve bold/italic/underline when pasting from Google Docs.</li>
<li>When pasting with the shift key, bold/italics/underline is also stripped.</li>
<li>Draw preview screen more quickly.</li>
<li>Fix race condition in preview screen (thanks to Håkon).</li>
<li>Use --exact with dvsvgm to prevent truncated subscript/superscript in LaTeX.</li>
<li>Various small fixes.</li>
</ul>
<p>Thanks to Arthur for contributing a number of fixes:</p>
<ul>
<li>Newly created cards could be given the wrong due number.</li>
<li>Sticky fields were ignored when closing the add card window.</li>
<li>Adding a note type forced a full sync.</li>
<li>Remove shortcut keys from translations.</li>
<li>Documentation changes for translators.</li>
<li>Case not being preserved when changing a deck's parent.</li>
<li>Hide default deck in other screens when empty.</li>
</ul>
<h3 id="changes-in-2116beta1"><a class="header" href="#changes-in-2116beta1">Changes in 2.1.16beta1</a></h3>
<p>Build 2e7b7560.</p>
<p>This build updates the translation handling as part of the move to Crowdin. Some
languages were missing some plural forms in the past - in order to prevent
errors, the missing forms have been copied from the highest previous plural.</p>
<p>If you'd like to contribute to the translation effort, please see
https://apps.ankiweb.net/docs/manual.html#translating-anki</p>
<p>Also:</p>
<ul>
<li>Fix qtwebengineprocesses not being cleaned up when stats window closed.</li>
<li>Allow smaller window when editing current card.</li>
<li>Support pasting multiple URLs at once.</li>
<li>Add ability to force software rendering on old Macs (thanks to Mike)</li>
<li>A fix for case insensitive field name handling in find&amp;replace (thanks to
lovac42)</li>
<li>Fix non-integer intervals being imported from Mnemosyne (thanks to Blauelf)</li>
<li>Clear undo queue when changing scheduler (thanks to lovac42)</li>
<li>Default to not closing add window (thanks to Aidan)</li>
<li>Sort new cards separately when sorting by ease (thanks to Arthur)</li>
<li>Fix a bug in the V2 scheduler.</li>
<li>Properly handle backslashes in the replacement section of Find&amp;Replace.</li>
</ul>
<h3 id="changes-in-2115beta1"><a class="header" href="#changes-in-2115beta1">Changes in 2.1.15beta1</a></h3>
<p>Build 442df9d6.</p>
<p>This is a candidate for the next stable release, so if you encounter any issues,
please let me know as soon as you can.</p>
<ul>
<li>The V2 scheduler now fully randomizes review cards due on a given day.</li>
<li>Fix add-ons errors on Windows when profile path was short.</li>
<li>Fix flag changes in Browse screen not syncing.</li>
<li>Cleanup recording wav file when recording canceled.</li>
<li>Fix the window icon on Wayland (thanks to Wilco).</li>
<li>Add a progress bar to media deletion.</li>
<li>Other minor changes.</li>
</ul>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->


                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">

            </nav>

        </div>




        <script type="text/javascript">
            window.playground_copyable = true;
        </script>


        <script src="elasticlunr.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="mark.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="searcher.js" type="text/javascript" charset="utf-8"></script>

        <script src="clipboard.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="highlight.js" type="text/javascript" charset="utf-8"></script>
        <script src="book.js" type="text/javascript" charset="utf-8"></script>

        <!-- Custom JS scripts -->

        <script type="text/javascript">
        window.addEventListener('load', function() {
            window.setTimeout(window.print, 100);
        });
        </script>

    </body>
</html>
